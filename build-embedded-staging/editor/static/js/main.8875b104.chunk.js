(this["webpackJsonpdocumentparser-template-editor"]=this["webpackJsonpdocumentparser-template-editor"]||[]).push([[0],{107:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=107},236:function(e,t,a){e.exports=a(438)},241:function(e,t,a){},272:function(e,t,a){},276:function(e,t,a){},313:function(e,t,a){},315:function(e,t,a){},335:function(e,t){},336:function(e,t){},337:function(e,t){},338:function(e,t){},339:function(e,t){},345:function(e,t){},347:function(e,t){},348:function(e,t){},349:function(e,t){},350:function(e,t){},378:function(e,t,a){},386:function(e,t,a){},434:function(e,t,a){},438:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(12),o=a.n(i),l=(a(241),a(119)),s=a(21),c=a(6),p=a(7),d=a(70),g=a(9),u=a(8),m=(a(242),a(231)),E=a(17),C=a(13),f=a(4),A=a.n(f),b={SET_PDF_FILE:"SET_PDF_FILE",SET_IS_CUSTOM_FILE:"SET_IS_CUSTOM_FILE",SET_PDF_URL:"SET_PDF_URL",SET_PDF_PAGE:"SET_PDF_PAGE",SET_PDF_SCALE:"SET_PDF_SCALE",RESET_PDF_FILE_AND_URL:"RESET_PDF_FILE_AND_URL",REQUEST_CONVERT_TO_PDF:"REQUEST_CONVERT_TO_PDF",RECEIVE_CONVERT_TO_PDF:"RECEIVE_CONVERT_TO_PDF",REQUEST_UPLOAD_FILE_FROM_URL:"REQUEST_UPLOAD_FILE_FROM_URL",RECEIVE_UPLOAD_FILE_FROM_URL:"RECEIVE_UPLOAD_FILE_FROM_URL",REQUEST_RUN_TEMPLATE:"REQUEST_RUN_TEMPLATE",RECEIVE_RUN_TEMPLATE:"RECEIVE_RUN_TEMPLATE",REQUEST_DETECT_MACRO:"REQUEST_DETECT_MACRO",RECEIVE_DETECT_MACRO:"RECEIVE_DETECT_MACRO",REQUEST_DETECT_FIELDS:"REQUEST_DETECT_FIELDS",RECEIVE_DETECT_FIELDS:"RECEIVE_DETECT_FIELDS",REQUEST_DETECT_GRID_STRUCTURE:"REQUEST_DETECT_GRID_STRUCTURE",RECEIVE_DETECT_GRID_STRUCTURE:"RECEIVE_DETECT_GRID_STRUCTURE",SET_PDF_FILE_NAME:"SET_PDF_FILE_NAME",SET_TEMPLATE_FILE_NAME:"SET_TEMPLATE_FILE_NAME",SAVE_TEMPLATE:"SAVE_TEMPLATE",SET_TEMPLATE:"SET_TEMPLATE",SET_TEMPLATE_ID:"SET_TEMPLATE_ID",RESET_TEMPLATE:"RESET_TEMPLATE",DELETE_TEMPLATE_OBJECT:"DELETE_TEMPLATE_OBJECT",ADD_TEMPLATE_OBJECT:"ADD_TEMPLATE_OBJECT",SET_ACTIVE_OBJECT:"SET_ACTIVE_OBJECT",CHANGE_OBJECT_NAME:"CHANGE_OBJECT_NAME",CHANGE_RECTANGLE_FIELD_COORDINATES:"CHANGE_RECTANGLE_FIELD_COORDINATES",CHANGE_RECTANGLE_FIELD_SIZES:"CHANGE_RECTANGLE_FIELD_SIZES",CHANGE_RECTANGLE_TABLE_COORDINATES:"CHANGE_RECTANGLE_TABLE_COORDINATES",CHANGE_RECTANGLE_TABLE_SIZES:"CHANGE_RECTANGLE_TABLE_SIZES",CHANGE_OBJECT_DATA_TYPE:"CHANGE_OBJECT_DATA_TYPE",CHANGE_OBJECT_EXPRESSION:"CHANGE_OBJECT_EXPRESSION",CHANGE_OBJECT_DATE_FORMAT:"CHANGE_OBJECT_DATE_FORMAT",CHANGE_OBJECT_COALESCING_WITH:"CHANGE_OBJECT_COALESCING_WITH",CHANGE_TABLE_ROW_MERGING_RULE:"CHANGE_TABLE_ROW_MERGING_RULE",CHANGE_SEARCH_BASED_TABLE_PROPERTIES:"CHANGE_SEARCH_BASED_TABLE_PROPERTIES",CHANGE_GRID_CELL_FIELD_COLUMN:"CHANGE_GRID_CELL_FIELD_COLUMN",CHANGE_GRID_CELL_FIELD_ROW:"CHANGE_GRID_CELL_FIELD_ROW",INSERT_MACROS_INTO_OBJECT:"INSERT_MACROS_INTO_OBJECT",SET_REGEX_STATUS_TO_OBJECT:"SET_REGEX_STATUS_TO_OBJECT",SET_TEST_FIELD_RESULT_ID:"SET_TEST_FIELD_RESULT_ID",SET_IS_TEMPLATE_MODIFIED:"SET_IS_TEMPLATE_MODIFIED",CHANGE_TEMPLATE_NAME:"CHANGE_TEMPLATE_NAME",CHANGE_TEMPLATE_TIMESTAMP:"CHANGE_TEMPLATE_TIMESTAMP",CHANGE_TEMPLATE_PRIORITY:"CHANGE_TEMPLATE_PRIORITY",CHANGE_TEMPLATE_CULTURE:"CHANGE_TEMPLATE_CULTURE",CHANGE_TEMPLATE_OCR_MODE:"CHANGE_TEMPLATE_OCR_MODE",CHANGE_TEMPLATE_OCR_LANGUAGE:"CHANGE_TEMPLATE_OCR_LANGUAGE",SET_CANVAS_MARGIN_LEFT:"SET_CANVAS_MARGIN_LEFT",SET_CANVAS_DIMENSIONS:"SET_CANVAS_DIMENSIONS",SET_CANVAS_CURRENT_PAGE_ORIGINAL_DIMENSIONS:"SET_CANVAS_CURRENT_PAGE_ORIGINAL_DIMENSIONS",OPEN_TEMPLATE_SETTINGS_MODAL:"OPEN_TEMPLATE_SETTINGS_MODAL",OPEN_EDIT_TEMPLATE_MODAL:"OPEN_EDIT_TEMPLATE_MODAL",OPEN_MACROS_MODAL:"OPEN_MACROS_MODAL",OPEN_RUN_TEMPLATE_RESULT_MODAL:"OPEN_RUN_TEMPLATE_RESULT_MODAL",OPEN_RUN_TEMPLATE_WITH_ONE_OBJECT_RESULT_MODAL:"OPEN_RUN_TEMPLATE_WITH_ONE_OBJECT_RESULT_MODAL",OPEN_SELECT_GRID_CELL_MODAL:"OPEN_SELECT_GRID_CELL_MODAL",CLOSE_ALL_MODALS:"CLOSE_ALL_MODALS",OPEN_RUN_TEMPLATE_RESULT_WINDOW:"OPEN_RUN_TEMPLATE_RESULT_WINDOW",OPEN_RUN_OBJECT_RESULT_WINDOW:"OPEN_RUN_OBJECT_RESULT_WINDOW",CLOSE_ALL_WINDOWS:"CLOSE_ALL_WINDOWS"},T=a(45),I=a.n(T),O=a(46),h=a.n(O),S=a(95),R=a(2),D=I.a.create({baseURL:"https://api.pdftest.co/proxy/v1"});function v(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}D.interceptors.request.use((function(e){return Object(R.a)(Object(R.a)({},e),{},{headers:{"X-USER-TOKEN":v("userToken")}})}),(function(e){return Promise.reject(e)})),D.interceptors.response.use((function(e){return e}),function(){var e=Object(S.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject(t.response.data));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var y=D,_=function(e){var t=new FormData;return t.append("file",e),y.post("pdf/convert/from/image",t,{headers:{"Content-Type":"multipart/form-data"}})},N=function(e,t){return y.post("/pdf/documentparser/template-editor/template/test",{template:JSON.stringify(e),url:t})},j=function(e){return y.post("/pdf/documentparser/template-editor/template/convert",{template:e,outputFormat:"JSON"})},P=function(e){return y.post("file/upload/base64",{file:e})},L=function(e){return y.post("/pdf/documentparser/template-editor/template/detect-expression",e)},M=function(e){return y.post("/pdf/documentparser/template-editor/template/detect-standard-fields",e)},w=function(e){return y.post("/pdf/documentparser/template-editor/get-grid-structure",e)},G=function(e){return y.get("/pdf/documentparser/templates/".concat(e),{params:{embedded_editor:"true"}})},F=function(e,t){return y.post("/pdf/documentparser/templates/".concat(e,"/update"),t)},U=function(e){return y.post("/pdf/documentparser/templates",e)},Y=function(e){return y.post("file/upload/url",{url:e})},W=function(e){return I.a.get(e,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})};function x(){return{type:b.OPEN_TEMPLATE_SETTINGS_MODAL}}function B(){return{type:b.OPEN_EDIT_TEMPLATE_MODAL}}function k(){return{type:b.OPEN_MACROS_MODAL}}function H(){return{type:b.CLOSE_ALL_MODALS}}var V=a(219);var J=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleResize=function(e,t,a){var n=e.top,i=e.left,o=e.width,l=e.height,s=0,c=0;270==r.props.currentPageOriginalRotationAngle||90==r.props.currentPageOriginalRotationAngle?(s=r.props.currentPageOriginalWidth/r.props.canvasHeight,c=r.props.currentPageOriginalHeight/r.props.canvasWidth):(s=r.props.currentPageOriginalWidth/r.props.canvasWidth,c=r.props.currentPageOriginalHeight/r.props.canvasHeight),n=Math.round(n)*c,i=(Math.round(i)-r.props.canvasMarginLeft)*s,o=Math.round(o)*s,l=Math.round(l)*c,r.changeObjectCoordinates(i,n),r.changeObjectSizes(o,l)},r.handleDrag=function(e,t){var a,n=(a=r.props.templateObject,r.props.currentPageOriginalWidth,r.props.currentPageOriginalHeight,r.props.currentPageOriginalRotationAngle,"field"==a.objectType&&"rectangle"==a.fieldProperties.fieldType?function(e){var t=e.fieldProperties.rectangle[2],a=e.fieldProperties.rectangle[3],r=e.fieldProperties.rectangle[0],n=e.fieldProperties.rectangle[1];return{width:t,height:a,topLeftX:r,topLeftY:n}}(a):"table"==a.objectType?function(e){var t=e.tableProperties.right-e.tableProperties.left,a=e.tableProperties.end.y-e.tableProperties.start.y,r=e.tableProperties.left,n=e.tableProperties.start.y;return{width:t,height:a,topLeftX:r,topLeftY:n}}(a):void 0),i=n.topLeftX,o=n.topLeftY,l=0,s=0;270==r.props.currentPageOriginalRotationAngle||90==r.props.currentPageOriginalRotationAngle?(l=r.props.currentPageOriginalWidth/r.props.canvasHeight,s=r.props.currentPageOriginalHeight/r.props.canvasWidth):(l=r.props.currentPageOriginalWidth/r.props.canvasWidth,s=r.props.currentPageOriginalHeight/r.props.canvasHeight),e*=l,t*=s,r.changeObjectCoordinates(i+e,o+t)},r.getCoordinates=function(){return function(e,t,a,r,n,i,o){var l=0,s=0;return 270==o||90==o?(l=a/n,s=t/r):(l=a/r,s=t/n),"field"==e.objectType&&"rectangle"==e.fieldProperties.fieldType?function(e,t,a,r){var n=e.fieldProperties.rectangle[2]*t,i=e.fieldProperties.rectangle[3]*a,o=e.fieldProperties.rectangle[0]*t+r,l=e.fieldProperties.rectangle[1]*a;return{width:n,height:i,topLeftX:o,topLeftY:l}}(e,s,l,i):"table"==e.objectType?function(e,t,a,r){var n=(e.tableProperties.right-e.tableProperties.left)*t,i=(e.tableProperties.end.y-e.tableProperties.start.y)*a,o=e.tableProperties.left*t+r,l=e.tableProperties.start.y*a;return{width:n,height:i,topLeftX:o,topLeftY:l}}(e,s,l,i):void 0}(r.props.templateObject,r.props.canvasWidth,r.props.canvasHeight,r.props.currentPageOriginalHeight,r.props.currentPageOriginalWidth,r.props.canvasMarginLeft,r.props.currentPageOriginalRotationAngle)},r.changeObjectCoordinates=function(e,t){var a=r.props.templateObject;return"field"==a.objectType&&"rectangle"==a.fieldProperties.fieldType?r.props.changeRectangleFieldCoordinates(a.id,e,t):"table"==a.objectType?r.props.changeRectangleTableCoordinates(a.id,e,t):void 0},r.changeObjectSizes=function(e,t){var a=r.props.templateObject;return"field"==a.objectType&&"rectangle"==a.fieldProperties.fieldType?r.props.changeRectangleFieldSizes(a.id,e,t):"table"==a.objectType?r.props.changeRectangleTableSizes(a.id,e,t):void 0},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=A()({active:this.props.activeObjectId==this.props.templateObject.id}),a=this.getCoordinates(),r=a.width,i=a.height,o=a.topLeftX,l=a.topLeftY;return n.a.createElement("div",{className:t,onClick:function(){return e.props.setActiveObject(e.props.templateObject.id)}},n.a.createElement(V.a,{left:o,top:l,width:r,height:i,minWidth:10,minHeight:10,zoomable:"n, w, s, e, nw, ne, se, sw",rotatable:!1,onResize:this.handleResize,onDrag:this.handleDrag}))}}]),a}(n.a.Component);var Z=Object(E.b)((function(e){return{page:e.pdfViewer.page,scale:e.pdfViewer.scale,objects:e.template.objects,activeObjectId:e.pdfViewer.activeObjectId,canvasMarginLeft:e.pdfViewer.canvasMarginLeft,canvasWidth:e.pdfViewer.canvasWidth,canvasHeight:e.pdfViewer.canvasHeight,currentPageOriginalHeight:e.pdfViewer.currentPageOriginalHeight,currentPageOriginalWidth:e.pdfViewer.currentPageOriginalWidth,currentPageOriginalRotationAngle:e.pdfViewer.currentPageOriginalRotationAngle}}),(function(e){return Object(C.b)({setActiveObject:et,changeRectangleFieldCoordinates:ge,changeRectangleFieldSizes:ue,changeRectangleTableCoordinates:me,changeRectangleTableSizes:Ee},e)}))(J);function z(e,t){var a=1;return e.forEach((function(e){e.fieldProperties&&"rectangle"==e.fieldProperties.fieldType&&(a+=1)})),{id:Date.now(),objectType:"field",name:"Rectangle"+a,fieldProperties:{fieldType:"rectangle",rectangle:[t.topLeftCornerX,t.topLeftCornerY,t.width,t.height],pageIndex:t.page}}}function K(e){return{type:b.SET_TEMPLATE_ID,templateId:e}}var X=a(155),Q=a.n(X);function q(e){var t=Q.a.parse(e);return t.objects&&t.objects.length>0&&(t.objects=t.objects.map((function(e){return e.fieldProperties?Object(R.a)(Object(R.a)({},e),{},{objectType:"field"}):e.tableProperties?Object(R.a)(Object(R.a)({},e),{},{objectType:"table"}):void 0}))),t}function $(e){void 0!==e&&e.length>0&&((e=e.trim()).startsWith("{")||(e=q(e)));try{return void 0!==(e=JSON.parse(e))&&(e=ee(e)),e}catch(t){return void 0!==(e=JSON.stringify(e,null,2))&&(e=ee(e=JSON.parse(e))),e}}function ee(e){return e.templateVersion&&e.objects&&e.objects.map((function(e,t){return void 0!==e.id&&0!==e.id||(e.id=Date.now()+t),e})),e}function te(){return{type:b.SAVE_TEMPLATE}}function ae(e){return{type:b.RESET_TEMPLATE}}function re(e){return{type:b.ADD_TEMPLATE_OBJECT,object:e}}function ne(e,t){return function(a,r){var n=r().template.objects,i=function(e,t){var a=1;return e.forEach((function(e){"table"==e.objectType&&(a+=1)})),{id:Date.now(),objectType:"table",name:"Table"+a,tableProperties:{start:{y:t.topLeftCornerY,pageIndex:t.page,expression:null},end:{y:t.topLeftCornerY+t.height,pageIndex:t.page,expression:null},left:t.topLeftCornerX,right:t.topLeftCornerX+t.width}}}(n,{topLeftCornerX:0,topLeftCornerY:pe(n,e),width:250,height:100,page:e});a(re(i)),t&&t(i.id)}}function ie(e,t){return function(a,r){var n=r().template.objects,i=z(n,{topLeftCornerX:0,topLeftCornerY:pe(n,e),width:50,height:50,page:e});a(re(i)),t&&t(i.id)}}function oe(e,t){return function(e,a){var r=a().template.objects,n=function(e,t){var a=1;return e.forEach((function(e){"field"==e.objectType&&"static"==e.fieldProperties.fieldType&&(a+=1)})),{id:Date.now(),objectType:"field",name:"StaticValue"+a,fieldProperties:{fieldType:"static"}}}(r);e(re(n)),t&&t(n.id)}}function le(e){return function(t,a){var r=function(e){var t=1;return e.forEach((function(e){"field"==e.objectType&&"macros"==e.fieldProperties.fieldType&&(t+=1)})),{id:Date.now(),objectType:"field",name:"TextSearch"+t,fieldProperties:{fieldType:"macros",expression:"",dataType:"string"}}}(a().template.objects);t(re(r)),e&&e(r.id)}}function se(e){return function(t,a){var r=function(e){var t=1;return e.forEach((function(e){"table"==e.objectType&&"searchBased"==e.tableType&&(t+=1)})),{id:Date.now(),objectType:"table",tableType:"searchBased",name:"SearchBasedTable"+t,tableProperties:JSON.stringify({start:{expression:"{{AnySymbol}}",regex:!0},end:{expression:"{{EndOfPage}}",regex:!0},row:{expression:"{{LineStart}}{{Spaces}}(?<Column1>{{SentenceWithSingleSpaces}}){{Spaces}}(?<Column2>{{SentenceWithSingleSpaces}})(?<Column3>{{Anything}}){{LineEnd}}",regex:!0},columns:[{name:"Column1",dataType:"string"},{name:"Column2",dataType:"string"},{name:"Column3",dataType:"string"}]},null,2)}}(a().template.objects);t(re(r)),e&&e(r.id)}}function ce(e,t){return function(a,r){var n={page:e},i=function(e,t){var a=1;return e.forEach((function(e){"field"==e.objectType&&"structure"==e.fieldProperties.fieldType&&(a+=1)})),{id:Date.now(),objectType:"field",name:"GridCell"+a,fieldProperties:{fieldType:"structure",pageIndex:t.page,structureCoordinates:{x:0,y:0}}}}(r().template.objects,n);a(re(i)),t&&t(i.id)}}function pe(e,t){for(var a,r=0;void 0==a;){var n=e.find((function(e){return e.fieldProperties&&e.fieldProperties.rectangle&&e.fieldProperties.pageIndex==t?e.fieldProperties.rectangle[1]==r:e.fieldProperties&&e.fieldProperties.start&&e.fieldProperties.start.pageIndex==t?e.fieldProperties.start.y==r:void 0}));n?n.fieldProperties&&n.fieldProperties.rectangle?r+=n.fieldProperties.rectangle[3]+10:n.fieldProperties&&n.fieldProperties.end&&(r+=n.fieldProperties.end.y+10):a=r}return a}function de(e,t){return{type:b.CHANGE_OBJECT_NAME,id:e,name:t}}function ge(e,t,a){return{type:b.CHANGE_RECTANGLE_FIELD_COORDINATES,id:e,x:t,y:a}}function ue(e,t,a){return{type:b.CHANGE_RECTANGLE_FIELD_SIZES,id:e,width:t,height:a}}function me(e,t,a){return{type:b.CHANGE_RECTANGLE_TABLE_COORDINATES,id:e,x:t,y:a}}function Ee(e,t,a){return{type:b.CHANGE_RECTANGLE_TABLE_SIZES,id:e,width:t,height:a}}function Ce(e){return{type:b.CHANGE_TEMPLATE_NAME,templateName:e}}function fe(e,t){return{type:b.CHANGE_OBJECT_DATA_TYPE,id:e,dataType:t}}function Ae(e,t){return{type:b.CHANGE_OBJECT_EXPRESSION,id:e,expression:t}}function be(e,t){return{type:b.CHANGE_OBJECT_DATE_FORMAT,id:e,dateFormat:t}}function Te(e,t){return{type:b.CHANGE_OBJECT_COALESCING_WITH,id:e,targetObjectId:t}}function Ie(e,t){return{type:b.CHANGE_TABLE_ROW_MERGING_RULE,id:e,rowMergingRule:t}}function Oe(e,t){return{type:b.CHANGE_SEARCH_BASED_TABLE_PROPERTIES,id:e,tableProperties:t}}function he(e,t){return{type:b.CHANGE_GRID_CELL_FIELD_COLUMN,id:e,x:t}}function Se(e,t){return{type:b.CHANGE_GRID_CELL_FIELD_ROW,id:e,y:t}}function Re(e){return{type:b.SET_TEMPLATE,template:e}}function De(e){return{type:b.DELETE_TEMPLATE_OBJECT,id:e}}function ve(e){return{type:b.CHANGE_TEMPLATE_PRIORITY,templatePriority:e}}function ye(e){return{type:b.CHANGE_TEMPLATE_CULTURE,culture:e}}function _e(e){return{type:b.CHANGE_TEMPLATE_OCR_MODE,ocrMode:e}}function Ne(e){return{type:b.CHANGE_TEMPLATE_OCR_LANGUAGE,ocrLanguage:e}}function je(e,t){return{type:b.INSERT_MACROS_INTO_OBJECT,id:e,macros:t}}function Pe(e,t){return{type:b.SET_REGEX_STATUS_TO_OBJECT,id:e,regex:t}}function Le(e){return function(t){G(e).then((function(a){t(Re($(a.data.body))),t(K(e))})).catch((function(a){t(K(e)),alert("Error getting template"),console.log(a)}))}}function Me(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){F(e,{template:JSON.stringify(t)}).then((function(e){r(te()),1==a&&window.location.assign("https://app.pdftest.co/document-parser/templates")})).catch((function(e){r(te()),alert("Error updating template"),console.log(e)}))}}function we(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){U({template:JSON.stringify(e)}).then((function(e){a(te()),1==t&&window.location.assign("https://app.pdftest.co/document-parser/templates")})).catch((function(e){a(te()),alert("Error creating template"),console.log(e)}))}}function Ge(e){return{type:b.SET_PDF_FILE,file:e}}function Fe(e){return{type:b.SET_PDF_URL,url:e}}function Ue(){return{type:b.REQUEST_CONVERT_TO_PDF}}function Ye(e){return{type:b.RECEIVE_DETECT_MACRO,detectedMacros:e}}function We(){return{type:b.RECEIVE_CONVERT_TO_PDF}}function xe(e){return{type:b.SET_TEST_FIELD_RESULT_ID,testFieldResultId:e}}function Be(e,t){return function(a,r){a(Ue()),_(e).then((function(e){a(We()),t&&t(e.data.url)})).catch((function(e){a(We()),console.log(e),alert("Error converting to PDF")}))}}function ke(e){return function(t,a){var r=a().dashboard.detectedMacros,n=a().template.objects.find((function(t){return t.id==e}));if(e==a().dashboard.detectingMacroObjectId&&r.length>0){var i=r.findIndex((function(e){return e[0]==n.fieldProperties.expression})),o=i==r.length-1?0:i+1;return t(Ae(e,r[o][0]))}t({type:b.REQUEST_DETECT_MACRO,detectingMacroObjectId:e});var l=n.fieldProperties.pageIndex,s=n.fieldProperties.rectangle?n.fieldProperties.rectangle.join(", "):void 0,c=a().template.culture,p=a().template.options.orcLanguage;ze(t,a,(function(a){L({url:a,page:l,rect:s,templateCulture:c,ocrlang:p}).then((function(a){I.a.get(a.data.url).then((function(a){t(Ye(a.data)),a.data&&a.data.length>0&&t(Ae(e,a.data[0][0]))}))})).catch((function(e){Ke(t,e,Ye)}))}),Ye)}}function He(e){return{type:b.RECEIVE_DETECT_FIELDS,fields:e}}function Ve(){return function(e,t){e({type:b.REQUEST_DETECT_FIELDS});var a=t().pdfViewer.page-1,r=t().template.culture;ze(e,t,(function(t){M({url:t,page:a,templateCulture:r}).then((function(t){I.a.get(t.data.url).then((function(t){alert(t.data.length+" fields were detected and added to the template"),e(He()),t.data.forEach((function(t,a){t.id=Date.now()+a,e(re(t))}))}))})).catch((function(t){Ke(e,t,He)}))}),He)}}function Je(e){return{type:b.RECEIVE_DETECT_GRID_STRUCTURE,detectGridStructureResult:e}}function Ze(e){return function(t,a){t({type:b.REQUEST_DETECT_GRID_STRUCTURE,detectGridStructureObjectId:e});var r=a().pdfViewer.page-1,n=a().template.options.orcLanguage;ze(t,a,(function(e){w({url:e,page:r,ocrlang:n}).then((function(e){I.a.get(e.data.url).then((function(e){t(Je(e.data)),t({type:b.OPEN_SELECT_GRID_CELL_MODAL})}))})).catch((function(e){Ke(t,e,Je)}))}),Je)}}function ze(e,t,a,r){try{t().pdfViewer.file?P(t().pdfViewer.file).then((function(e){a(e.data.url)})).catch((function(t){Ke(e,t,r)})):t().pdfViewer.url&&a(t().pdfViewer.url)}catch(n){Ke(e,n,r)}}function Ke(e,t,a){e(a()),alert("Detecting error"),console.log(t)}function Xe(){return{type:b.RECEIVE_UPLOAD_FILE_FROM_URL}}function Qe(e,t){return function(a,r){a({type:b.REQUEST_UPLOAD_FILE_FROM_URL}),Y(e).then((function(e){a(Xe()),t&&t(e.data.url)})).catch((function(e){a(Xe()),console.log(e),alert("Error converting to PDF")}))}}function qe(e){return{type:b.SET_PDF_PAGE,page:e}}function $e(e){return{type:b.SET_PDF_SCALE,scale:e}}function et(e){return{type:b.SET_ACTIVE_OBJECT,activeObjectId:e}}function tt(e){return{type:b.SET_CANVAS_MARGIN_LEFT,canvasMarginLeft:e}}function at(e,t){return{type:b.SET_CANVAS_DIMENSIONS,canvasHeight:e,canvasWidth:t}}function rt(e,t,a){return{type:b.SET_CANVAS_CURRENT_PAGE_ORIGINAL_DIMENSIONS,currentPageOriginalHeight:e,currentPageOriginalWidth:t,currentPageOriginalRotationAngle:a}}function nt(){return{type:b.RESET_PDF_FILE_AND_URL}}function it(e){return{type:b.RECEIVE_RUN_TEMPLATE,runTemplateResult:e||{}}}function ot(e){return{type:b.SET_IS_CUSTOM_FILE,isCustomFile:e}}function lt(e){return function(t,a){t(ct(a().template,e))}}function st(e,t){return function(a,r){var n=r().template.objects.find((function(t){return t.id==e})),i=JSON.parse(JSON.stringify(r().template));i.objects=[n],a(ct(i,t))}}function ct(e,t){return function(a,r){a({type:b.REQUEST_RUN_TEMPLATE});try{r().pdfViewer.file?P(r().pdfViewer.file).then((function(e){n(e.data.url)})).catch((function(e){a(it()),alert("Error uploading file via PDF.co API"),console.log(e)})):r().pdfViewer.url&&n(r().pdfViewer.url)}catch(i){a(it()),alert("Error testing template"),console.log(i)}function n(r){N(e,r).then((function(e){I.a.get(e.data.url).then((function(e){a(it(e.data)),"function"===typeof t&&t(e.data)}))})).catch((function(e){a(it()),alert("Error running template"),console.log(e)}))}}}function pt(e){return{type:b.SET_PDF_FILE_NAME,pdfFileName:e}}function dt(e,t){return function(a,r){a(Ue()),a(Qe(e,t)),a(We())}}a(272);var gt=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.convertingToPdf,a=e.isRunningTemplate,r=e.detectingMacro,i=e.detectingFields,o=e.fileUploadingFromUrl,l=A()({active:t||a||r||i||o});return n.a.createElement("div",{id:"page-loader",className:l},n.a.createElement("div",{class:"lds-spinner"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)))}}]),a}(n.a.Component);var ut=Object(E.b)((function(e){return{convertingToPdf:e.pdfViewer.convertingToPdf,isRunningTemplate:e.pdfViewer.isRunningTemplate,detectingMacro:e.pdfViewer.detectingMacro,detectingFields:e.pdfViewer.detectingFields,fileUploadingFromUrl:e.dashboard.fileUploadingFromUrl}}))(gt),mt=a(445),Et=a(224),Ct=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=At.map((function(e){return n.a.createElement("option",{key:e[0],value:e[0]},e[0]," - ",e[1])}));return n.a.createElement(mt.a,{show:this.props.templateSettingsModalOpened,onHide:this.props.closeAllModals,size:"lg"},n.a.createElement(mt.a.Header,{closeButton:!0},n.a.createElement(mt.a.Title,null,"Template settings")),n.a.createElement(mt.a.Body,null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"Template version"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Template version",value:this.props.templateVersion,disabled:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"Template priority"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Template priority",value:this.props.templatePriority,onChange:function(t){return e.props.changeTemplatePriority(t.target.value)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"Culture"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("select",{name:"templateCulture",id:"templateCulture",className:"form-control",value:this.props.culture,onChange:function(t){return e.props.changeTemplateCulture(t.target.value)}},t))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"OCR Mode"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("select",{name:"templateOcrMode",id:"templateOcrMode",className:"form-control",value:this.props.ocrMode,onChange:function(t){return e.props.changeTemplateOcrMode(t.target.value)}},n.a.createElement("option",{value:"auto"},"Auto"),n.a.createElement("option",{value:"forced"},"Forced"),n.a.createElement("option",{value:"repairFonts"},"Repair Fonts")))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"OCR Language"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("select",{name:"templateOcrLanguage",id:"templateOcrLanguage",className:"form-control",value:this.props.ocrLanguage,onChange:function(t){return e.props.changeTemplateOcrLanguage(t.target.value)}},n.a.createElement("option",{value:"deu"},"German"),n.a.createElement("option",{value:"eng"},"English"),n.a.createElement("option",{value:"fra"},"French"),n.a.createElement("option",{value:"nld"},"Dutch"),n.a.createElement("option",{value:"spa"},"Spanish"))))),n.a.createElement(mt.a.Footer,null,n.a.createElement(Et.a,{variant:"secondary",onClick:this.props.closeAllModals},"Close")))}}]),a}(n.a.Component);var ft=Object(E.b)((function(e){return{templateSettingsModalOpened:e.modals.templateSettingsModalOpened,templatePriority:e.template.templatePriority,templateVersion:e.template.templateVersion,ocrMode:e.template.options&&e.template.options.ocrMode,culture:e.template.culture,ocrLanguage:e.template.options&&e.template.options.ocrLanguage}}),(function(e){return Object(C.b)({closeAllModals:H,changeTemplatePriority:ve,changeTemplateCulture:ye,changeTemplateOcrMode:_e,changeTemplateOcrLanguage:Ne},e)}))(Ct),At=[["bg-BG","Bulgarian"],["zh-CN","Chinese (China)"],["zh-HK","Chinese (Hong Kong)"],["zh-TW","Chinese (Taiwan)"],["cs-CZ","Czech"],["nl-NL","Dutch (Netherlands)"],["en-AU","English (Australia)"],["en-CA","English (Canada)"],["en-IN","English (India)"],["en-SG","English (Singapore)"],["en-GB","English (UK)"],["en-US","English (United States)"],["fi-FI","Finnish"],["fr-CA","French (Canada)"],["fr-FR","French (France)"],["de-DE","German"],["el-GR","Greek"],["hi-IN","Hindi"],["it-IT","Italian"],["ja-JP","Japanese"],["kk-KZ","Kazakh"],["ko-KR","Korean"],["nb-NO","Norwegian"],["pl-PL","Polish"],["pt-BR","Portuguese (Brazil)"],["pt-PT","Portuguese (Portugal)"],["ru-RU","Russian"],["sk-SK","Slovak"],["es-MX","Spanish (Mexico)"],["es-ES","Spanish (Spain)"],["th-TH","Thai"],["tr-TR","Turkish"],["vi-VN","Vietnamese"]],bt=(a(225),function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleOpenShow=function(e){r.setState({templateCode:JSON.stringify(r.props.template,null,2),copied:!1})},r.handleChangeCode=function(e){r.setState({templateCode:e.target.value,copied:!1})},r.handleSaveCode=function(e){try{var t=$(r.state.templateCode);r.props.setTemplate(t),r.setState({syntaxError:!1,syntaxErrorMessage:"",copied:!1}),r.props.closeAllModals()}catch(a){r.setState({syntaxError:!0,syntaxErrorMessage:a,copied:!1})}},r.state={templateCode:void 0,syntaxError:!1,syntaxErrorMessage:"",copied:!1},r}return Object(p.a)(a,[{key:"render",value:function(){var e=null;return n.a.createElement(mt.a,{show:this.props.editTemplateModalOpened,onShow:this.handleOpenShow,onHide:this.props.closeAllModals,size:"lg"},n.a.createElement(mt.a.Header,{closeButton:!0},n.a.createElement(mt.a.Title,null,"Edit or Export Template")),n.a.createElement(mt.a.Body,null,n.a.createElement("span",null,n.a.createElement("small",null,"edit or paste your template code, click Update to load template into visual editor")),n.a.createElement("textarea",{className:"form-control",name:"",id:"",cols:"30",rows:"10",value:this.state.templateCode,onChange:this.handleChangeCode})),n.a.createElement(mt.a.Footer,null,this.state.syntaxError&&n.a.createElement("span",{className:"text-danger mR-10"},"Sorry, syntax error in the template code: ",this.syntaxErrorMessage),this.state.copied&&!this.state.syntaxError?n.a.createElement("span",{style:{color:"red"}},"Templated was copied to the clipboard! Now please paste from clipboard into your PDF.co template code"):null,e,n.a.createElement(Et.a,{variant:"primary",onClick:this.handleSaveCode},"Update"),n.a.createElement(Et.a,{variant:"secondary",onClick:this.props.closeAllModals},"Discard")))}}]),a}(n.a.Component));var Tt=Object(E.b)((function(e){return{editTemplateModalOpened:e.modals.editTemplateModalOpened,template:e.template}}),(function(e){return Object(C.b)({closeAllModals:H,setTemplate:Re,updateTemplate:Me,createTemplate:we},e)}))(bt),It=a(62),Ot=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).insertMacros=function(e){r.props.insertMacrosIntoObject(r.props.activeObjectId,"{{".concat(e,"}}")),r.props.closeAllModals()},r.handleChangeFilter=function(e){r.setState({filter:e.target.value})},r.handleClearFilter=function(){r.setState({filter:""})},r.state={filter:""},r}return Object(p.a)(a,[{key:"render",value:function(){for(var e=this,t=this.state.filter.toLowerCase(),a=[],r=function(){var r=Object(It.a)(o[i],2),l=r[0];r[1];(St[l].friendlyWriting.toLowerCase().includes(t)||St[l].description.toLowerCase().includes(t))&&a.push(n.a.createElement("tr",{className:"macros-list-item",key:l,onClick:function(t){return e.insertMacros(St[l].friendlyWriting)}},n.a.createElement("td",null,St[l].friendlyWriting),n.a.createElement("td",null,St[l].description)))},i=0,o=Object.entries(St);i<o.length;i++)r();return n.a.createElement(mt.a,{show:this.props.macrosModalOpened,onHide:this.props.closeAllModals,size:"lg"},n.a.createElement(mt.a.Header,{closeButton:!0},n.a.createElement(mt.a.Title,null,"Insert macros",n.a.createElement("br",null),"(select and double-click on a macro)"),n.a.createElement("div",{className:"input-group mL-20 col-lg-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"type here to search",value:this.state.filter,onChange:this.handleChangeFilter}),n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.handleClearFilter},"clear")))),n.a.createElement(mt.a.Body,null,n.a.createElement("table",{className:"table"},n.a.createElement("tbody",null,a))),n.a.createElement(mt.a.Footer,null,n.a.createElement(Et.a,{variant:"secondary",onClick:this.props.closeAllModals},"Close")))}}]),a}(n.a.Component);var ht=Object(E.b)((function(e){return{macrosModalOpened:e.modals.macrosModalOpened,template:e.template,activeObjectId:e.pdfViewer.activeObjectId}}),(function(e){return Object(C.b)({closeAllModals:H,insertMacrosIntoObject:je},e)}))(Ot),St={SMARTDATE:{friendlyWriting:"SmartDate",description:"Tries to detect the date in the most common formats."},NUMBER:{friendlyWriting:"Number",description:'Tries to detect the decimal number like the following: "12.34", "-123,456.78", "123.456". Decimal separator and thousands separator are automatically taken from the template culture.'},MONEY:{friendlyWriting:"Money",description:'Tries to detect the decimal number with currency symbol like the following: "USD 12.34", "$123,456.78", "123.45 \u20ac". Decimal separator and thousands separator are automatically taken from the template culture.'},USPHONENUMBER:{friendlyWriting:"USPhoneNumber",description:"Tries to detect US phone number."},SPACE:{friendlyWriting:"Space",description:"Single space."},SPACES:{friendlyWriting:"Spaces",description:"One or more spaces."},"2SPACES":{friendlyWriting:"2Spaces",description:"Two spaces."},"3SPACES":{friendlyWriting:"3Spaces",description:"Three spaces."},"4SPACES":{friendlyWriting:"4Spaces",description:"Four spaces."},"5SPACES":{friendlyWriting:"5Spaces",description:"Five spaces."},"6SPACES":{friendlyWriting:"6Spaces",description:"Six spaces."},"7SPACES":{friendlyWriting:"7Spaces",description:"Seven spaces."},"8SPACES":{friendlyWriting:"8Spaces",description:"Eight spaces."},"9SPACES":{friendlyWriting:"9Spaces",description:"Nine spaces."},"10SPACES":{friendlyWriting:"10Spaces",description:"Ten spaces."},DIGIT:{friendlyWriting:"Digit",description:"One digit."},DIGITS:{friendlyWriting:"Digits",description:"One or more digits."},"2DIGITS":{friendlyWriting:"2Digits",description:"Two digits."},"3DIGITS":{friendlyWriting:"3Digits",description:"Three digits."},"4DIGITS":{friendlyWriting:"4Digits",description:"Four digits."},"5DIGITS":{friendlyWriting:"5Digits",description:"Five digits."},"6DIGITS":{friendlyWriting:"6Digits",description:"Six digits."},"7DIGITS":{friendlyWriting:"7Digits",description:"Seven digits."},"8DIGITS":{friendlyWriting:"8Digits",description:"Eight digits."},"9DIGITS":{friendlyWriting:"9Digits",description:"Nine digits."},"10DIGITS":{friendlyWriting:"10Digits",description:"Ten digits."},DIGITORSYMBOL:{friendlyWriting:"DigitOrSymbol",description:'One digit or symbol ("_-+=/").'},DIGITSORSYMBOLS:{friendlyWriting:"DigitsOrSymbols",description:'One or more digits or symbols ("_-+=/").'},"2DIGITSORSYMBOLS":{friendlyWriting:"2DigitsOrSymbols",description:'Two digits or symbols ("_-+=/").'},"3DIGITSORSYMBOLS":{friendlyWriting:"3DigitsOrSymbols",description:'Three digits or symbols ("_-+=/").'},"4DIGITSORSYMBOLS":{friendlyWriting:"4DigitsOrSymbols",description:'Four digits or symbols ("_-+=/").'},"5DIGITSORSYMBOLS":{friendlyWriting:"5DigitsOrSymbols",description:'Five digits or symbols ("_-+=/").'},"6DIGITSORSYMBOLS":{friendlyWriting:"6DigitsOrSymbols",description:'Six digits or symbols ("_-+=/").'},"7DIGITSORSYMBOLS":{friendlyWriting:"7DigitsOrSymbols",description:'Seven digits or symbols ("_-+=/").'},"8DIGITSORSYMBOLS":{friendlyWriting:"8DigitsOrSymbols",description:'Eight digits or symbols ("_-+=/").'},"9DIGITSORSYMBOLS":{friendlyWriting:"9DigitsOrSymbols",description:'Nine digits or symbols ("_-+=/").'},"10DIGITSORSYMBOLS":{friendlyWriting:"10DigitsOrSymbols",description:'Ten digits or symbols ("_-+=/").'},LETTER:{friendlyWriting:"Letter",description:"One letter from any language."},LETTERS:{friendlyWriting:"Letters",description:"One or more letters from any language."},"2LETTERS":{friendlyWriting:"2Letters",description:"Two letters from any language."},"3LETTERS":{friendlyWriting:"3Letters",description:"Three letters from any language."},"4LETTERS":{friendlyWriting:"4Letters",description:"Four letters from any language."},"5LETTERS":{friendlyWriting:"5Letters",description:"Five letters from any language."},"6LETTERS":{friendlyWriting:"6Letters",description:"Six letters from any language."},"7LETTERS":{friendlyWriting:"7Letters",description:"Seven letters from any language."},"8LETTERS":{friendlyWriting:"8Letters",description:"Eight letters from any language."},"9LETTERS":{friendlyWriting:"9Letters",description:"Nine letters from any language."},"10LETTERS":{friendlyWriting:"10Letters",description:"Ten letters from any language."},UPPERCASELETTER:{friendlyWriting:"UppercaseLetter",description:"One uppercase letter from any language."},UPPERCASELETTERS:{friendlyWriting:"UppercaseLetters",description:"One or more uppercase letters from any language."},"2UPPERCASELETTERS":{friendlyWriting:"2UppercaseLetter",description:"Two uppercase letters from any language."},"3UPPERCASELETTERS":{friendlyWriting:"3UppercaseLetter",description:"Three uppercase letters from any language."},"4UPPERCASELETTERS":{friendlyWriting:"4UppercaseLetter",description:"Four uppercase letters from any language."},"5UPPERCASELETTERS":{friendlyWriting:"5UppercaseLetter",description:"Five uppercase letters from any language."},"6UPPERCASELETTERS":{friendlyWriting:"6UppercaseLetter",description:"Six uppercase letters from any language."},"7UPPERCASELETTERS":{friendlyWriting:"7UppercaseLetter",description:"Seven uppercase letters from any language."},"8UPPERCASELETTERS":{friendlyWriting:"8UppercaseLetter",description:"Eight uppercase letters from any language."},"9UPPERCASELETTERS":{friendlyWriting:"9UppercaseLetter",description:"Nine uppercase letters from any language."},"10UPPERCASELETTERS":{friendlyWriting:"10UppercaseLetter",description:"Ten uppercase letters from any language."},LETTERORDIGIT:{friendlyWriting:"LetterOrDigit",description:"One letter or digit."},LETTERSORDIGITS:{friendlyWriting:"LettersOrDigits",description:"One or more letters or digits."},"2LETTERSORDIGITS":{friendlyWriting:"2LettersOrDigits",description:"Two letters or digits."},"3LETTERSORDIGITS":{friendlyWriting:"3LettersOrDigits",description:"Three letters or digits."},"4LETTERSORDIGITS":{friendlyWriting:"4LettersOrDigits",description:"Four letters or digits."},"5LETTERSORDIGITS":{friendlyWriting:"5LettersOrDigits",description:"Five letters or digits."},"6LETTERSORDIGITS":{friendlyWriting:"6LettersOrDigits",description:"Six letters or digits."},"7LETTERSORDIGITS":{friendlyWriting:"7LettersOrDigits",description:"Seven letters or digits."},"8LETTERSORDIGITS":{friendlyWriting:"8LettersOrDigits",description:"Eight letters or digits."},"9LETTERSORDIGITS":{friendlyWriting:"9LettersOrDigits",description:"Nine letters or digits."},"10LETTERSORDIGITS":{friendlyWriting:"10LettersOrDigits",description:"Ten letters or digits."},UPPERCASELETTERORDIGIT:{friendlyWriting:"UppercaseLetterOrDigit",description:"One uppercase letter or digit."},UPPERCASELETTERSORDIGITS:{friendlyWriting:"UppercaseLettersOrDigits",description:"One or more uppercase letters or digits."},"2UPPERCASELETTERSORDIGITS":{friendlyWriting:"2UppercaseLettersOrDigits",description:"Two uppercase letters or digits."},"3UPPERCASELETTERSORDIGITS":{friendlyWriting:"3UppercaseLettersOrDigits",description:"Three uppercase letters or digits."},"4UPPERCASELETTERSORDIGITS":{friendlyWriting:"4UppercaseLettersOrDigits",description:"Four uppercase letters or digits."},"5UPPERCASELETTERSORDIGITS":{friendlyWriting:"5UppercaseLettersOrDigits",description:"Five uppercase letters or digits."},"6UPPERCASELETTERSORDIGITS":{friendlyWriting:"6UppercaseLettersOrDigits",description:"Six uppercase letters or digits."},"7UPPERCASELETTERSORDIGITS":{friendlyWriting:"7UppercaseLettersOrDigits",description:"Seven uppercase letters or digits."},"8UPPERCASELETTERSORDIGITS":{friendlyWriting:"8UppercaseLettersOrDigits",description:"Eight uppercase letters or digits."},"9UPPERCASELETTERSORDIGITS":{friendlyWriting:"9UppercaseLettersOrDigits",description:"Nine uppercase letters or digits."},"10UPPERCASELETTERSORDIGITS":{friendlyWriting:"10UppercaseLettersOrDigits",description:"Ten uppercase letters or digits."},LETTERORDIGITORSYMBOL:{friendlyWriting:"LetterOrDigitOrSymbol",description:'One letter, or digit, or symbol ("_-+=/").'},LETTERSORDIGITSORSYMBOLS:{friendlyWriting:"LettersOrDigitsOrSymbols",description:'One or more letters, or digits, or symbols ("_-+=/").'},"2LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"2LettersOrDigitsOrSymbols",description:'Two letters, or digits, or symbols ("_-+=/").'},"3LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"3LettersOrDigitsOrSymbols",description:'Three letters, or digits, or symbols ("_-+=/").'},"4LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"4LettersOrDigitsOrSymbols",description:'Four letters, or digits, or symbols ("_-+=/").'},"5LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"5LettersOrDigitsOrSymbols",description:'Five letters, or digits, or symbols ("_-+=/").'},"6LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"6LettersOrDigitsOrSymbols",description:'Six letters, or digits, or symbols ("_-+=/").'},"7LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"7LettersOrDigitsOrSymbols",description:'Seven letters, or digits, or symbols ("_-+=/").'},"8LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"8LettersOrDigitsOrSymbols",description:'Eight letters, or digits, or symbols ("_-+=/").'},"9LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"9LettersOrDigitsOrSymbols",description:'Nine letters, or digits, or symbols ("_-+=/").'},"10LETTERSORDIGITSORSYMBOLS":{friendlyWriting:"10LettersOrDigitsOrSymbols",description:'Ten letters, or digits, or symbols ("_-+=/").'},UPPERCASELETTERORDIGITORSYMBOL:{friendlyWriting:"UppercaseLetterOrDigitOrSymbol",description:'One uppercase letter, or digit, or symbol ("_-+=/").'},UPPERCASELETTERSORDIGITSORSYMBOLS:{friendlyWriting:"UppercaseLettersOrDigitsOrSymbols",description:'One or more uppercase letters, or digits, or symbols ("_-+=/").'},"2UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"2UppercaseLettersOrDigitsOrSymbols",description:'Two uppercase letters, or digits, or symbols ("_-+=/").'},"3UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"3UppercaseLettersOrDigitsOrSymbols",description:'Three uppercase letters, or digits, or symbols ("_-+=/").'},"4UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"4UppercaseLettersOrDigitsOrSymbols",description:'Four uppercase letters, or digits, or symbols ("_-+=/").'},"5UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"5UppercaseLettersOrDigitsOrSymbols",description:'Five uppercase letters, or digits, or symbols ("_-+=/").'},"6UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"6UppercaseLettersOrDigitsOrSymbols",description:'Six uppercase letters, or digits, or symbols ("_-+=/").'},"7UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"7UppercaseLettersOrDigitsOrSymbols",description:'Seven uppercase letters, or digits, or symbols ("_-+=/").'},"8UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"8UppercaseLettersOrDigitsOrSymbols",description:'Eight uppercase letters, or digits, or symbols ("_-+=/").'},"9UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"9UppercaseLettersOrDigitsOrSymbols",description:'Nine uppercase letters, or digits, or symbols ("_-+=/").'},"10UPPERCASELETTERSORDIGITSORSYMBOLS":{friendlyWriting:"10UppercaseLettersOrDigitsOrSymbols",description:'Ten uppercase letters, or digits, or symbols ("_-+=/").'},DOLLAR:{friendlyWriting:"Dollar",description:"Dollar sign ($)."},EURO:{friendlyWriting:"Euro",description:"Euro sign (\u20ac)."},POUND:{friendlyWriting:"Pound",description:"Pound sign (\xa3)."},YEN:{friendlyWriting:"Yen",description:"Yen sign (\xa5)."},YUAN:{friendlyWriting:"Yuan",description:"Yuan sign (\xa5)."},CURRENCYSYMBOL:{friendlyWriting:"CurrencySymbol",description:"Any currency symbol ($, \u20ac, \xa3, \xa5, etc.)"},DOT:{friendlyWriting:"Dot",description:'Single dot symbol (".").'},COMMA:{friendlyWriting:"Comma",description:'Single comma symbol (",").'},COLON:{friendlyWriting:"Colon",description:'Single colon symbol (":").'},SEMICOLON:{friendlyWriting:"Semicolon",description:'Single semicolon symbol (";").'},MINUS:{friendlyWriting:"Minus",description:'Single minus (dash, hyphen) symbol ("-").'},SLASH:{friendlyWriting:"Slash",description:'Slash symbol ("/").'},BACKSLASH:{friendlyWriting:"Backslash",description:'Backslash symbol ("\\").'},PERCENT:{friendlyWriting:"Percent",description:'Percent symbol ("%").'},LINESTART:{friendlyWriting:"LineStart",description:"Start of line (virtual symbol)."},LINEEND:{friendlyWriting:"LineEnd",description:"End of line (virtual symbol)."},SENTENCEWITHSINGLESPACES:{friendlyWriting:"SentenceWithSingleSpaces",description:"Single-space-separated sequence of words and symbols. Breaks on double space."},SENTENCEWITHDOUBLESPACES:{friendlyWriting:"SentenceWithDoubleSpaces",description:"Extended {{SentenceWithSingleSpaces}} macro allowing two spaces between words. Breaks on triple space."},ENDOFPAGE:{friendlyWriting:"EndOfPage",description:"End of page or end of document."},WORDBOUNDARY:{friendlyWriting:"WordBoundary",description:"Start or end of word  (virtual symbol)."},OPENINGCURLYBRACE:{friendlyWriting:"OpeningCurlyBrace",description:'Opening curly brace symbol ("{").'},CLOSINGCURLYBRACE:{friendlyWriting:"ClosingCurlyBrace",description:'Closing curly brace symbol ("}").'},OPENINGPARENTHESIS:{friendlyWriting:"OpeningParenthesis",description:'Opening parenthesis symbol ("(").'},CLOSINGPARENTHESIS:{friendlyWriting:"ClosingParenthesis",description:'Closing parenthesis symbol (")").'},OPENINGSQUAREBRACKET:{friendlyWriting:"OpeningSquareBracket",description:'Opening square bracket symbol ("[").'},CLOSINGSQUAREBRACKET:{friendlyWriting:"ClosingSquareBracket",description:'Closing square bracket symbol ("]").'},OPENINGANGLEBRACKET:{friendlyWriting:"OpeningAngleBracket",description:'Opening angle bracket symbol ("<").'},CLOSINGANGLEBRACKET:{friendlyWriting:"ClosingAngleBracket",description:'Closing angle bracket symbol (">").'},"DATEMM/DD/YY":{friendlyWriting:"DateMM/DD/YY",description:'Date in format "01/01/19" (with leading zero).'},"DATEM/D/YY":{friendlyWriting:"DateM/D/YY",description:'Date in format "1/1/19" (without leading zero).'},"DATEMM/DD/YYYY":{friendlyWriting:"DateMM/DD/YYYY",description:'Date in format "01/01/2019" (with leading zero).'},"DATEM/D/YYYY":{friendlyWriting:"DateM/D/YYYY",description:'Date in format "1/1/2019" (without leading zero).'},"DATEMM-DD-YY":{friendlyWriting:"DateMM-DD-YY",description:'Date in format "01-01-19" (with leading zero).'},"DATEM-D-YY":{friendlyWriting:"DateM-D-YY",description:'Date in format "1-1-19" (without leading zero).'},"DATEMM-DD-YYYY":{friendlyWriting:"DateMM-DD-YYYY",description:'Date in format "01-01-2019" (with leading zero).'},"DATEM-D-YYYY":{friendlyWriting:"DateM-D-YYYY",description:'Date in format "1-1-2019" (without leading zero).'},"DATEMM.DD.YY":{friendlyWriting:"DateMM.DD.YY",description:'Date in format "01.01.19" (with leading zero).'},"DATEM.D.YY":{friendlyWriting:"DateM.D.YY",description:'Date in format "1.1.19" (without leading zero).'},"DATEMM.DD.YYYY":{friendlyWriting:"DateMM.DD.YYYY",description:'Date in format "01.01.2019" (with leading zero).'},"DATEM.D.YYYY":{friendlyWriting:"DateM.D.YYYY",description:'Date in format "01.01.2019" (without leading zero).'},"DATEDD/MM/YY":{friendlyWriting:"DateDD/MM/YY",description:'Date in format "01/01/19" (with leading zero).'},"DATED/M/YY":{friendlyWriting:"DateD/M/YY",description:'Date in format "1/1/19" (without leading zero).'},"DATEDD/MM/YYYY":{friendlyWriting:"DateDD/MM/YYYY",description:'Date in format "01/01/2019" (with leading zero).'},"DATED/M/YYYY":{friendlyWriting:"DateD/M/YYYY",description:'Date in format "1/1/2019" (without leading zero).'},"DATEDD-MM-YY":{friendlyWriting:"DateDD-MM-YY",description:'Date in format "01-01-19" (with leading zero).'},"DATED-M-YY":{friendlyWriting:"DateD-M-YY",description:'Date in format "1-1-19" (without leading zero).'},"DATEDD-MM-YYYY":{friendlyWriting:"DateDD-MM-YYYY",description:'Date in format "01-01-2019" (with leading zero).'},"DATED-M-YYYY":{friendlyWriting:"DateD-M-YYYY",description:'Date in format "1-1-2019" (without leading zero).'},"DATEDD.MM.YY":{friendlyWriting:"DateDD.MM.YY",description:'Date in format "01.01.19" (with leading zero).'},"DATED.M.YY":{friendlyWriting:"DateD.M.YY",description:'Date in format "1.1.19" (without leading zero).'},"DATEDD.MM.YYYY":{friendlyWriting:"DateDD.MM.YYYY",description:'Date in format "01.01.2019" (with leading zero).'},"DATED.M.YYYY":{friendlyWriting:"DateD.M.YYYY",description:'Date in format "1.1.2019" (without leading zero).'},DATEYYYYMMDD:{friendlyWriting:"DateYYYYMMDD",description:'Date in format "20190101".'},"DATEYYYY/MM/DD":{friendlyWriting:"DateYYYY/MM/DD",description:'Date in format "2019/01/01" (with leading zero).'},"DATEYYYY/M/D":{friendlyWriting:"DateYYYY/M/D",description:'Date in format "2019/1/1" (without leading zero).'},"DATEYYYY-MM-DD":{friendlyWriting:"DateYYYY-MM-DD",description:'Date in format "2019-01-01" (with leading zero).'},"DATEYYYY-M-D":{friendlyWriting:"DateYYYY-M-D",description:'Date in format "2019-1-1" (without leading zero).'},ANYSYMBOL:{friendlyWriting:"AnySymbol",description:"Starting position of the document."},WORDBOUND:{friendlyWriting:"WordBound",description:"Left or right word bound."},ANYTHING:{friendlyWriting:"Anything",description:"Any characters up to the next macro in the expression."},ANYTHINGGREEDY:{friendlyWriting:"AnythingGreedy",description:"Any characters up to the next macro in the expression or to the end of line. Greedy version."},TOGGLESINGLELINEMODE:{friendlyWriting:"ToggleSingleLineMode",description:"Enables or disables single-line mode. In single-line mode, {{Anything}} and {{AnythingGreedy}} macros do not stop at the end of the line and proceed to the next line of text."},TOGGLECASEINSENSITIVEMODE:{friendlyWriting:"ToggleCaseInsensitiveMode",description:"Enables or disables case-insensitive mode."}},Rt=(a(276),function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).activateInitialCell=function(e){var t=r.props.objects.find((function(e){return e.id==r.props.detectGridStructureObjectId})),a=t.fieldProperties.structureCoordinates.y,n=t.fieldProperties.structureCoordinates.x;r.setState({activeRowIndex:a,activeColIndex:n},(function(){r.scrollableBodyRef.scrollTo(0,r.activeElemRef.offsetTop)}))},r.activateCell=function(e,t){r.setState({activeRowIndex:e,activeColIndex:t,initialOpen:!1})},r.selectGridCell=function(e,t){r.props.changeGridCellFieldColumn(r.props.detectGridStructureObjectId,t),r.props.changeGridCellFieldRow(r.props.detectGridStructureObjectId,e),r.props.closeAllModals()},r.closeModal=function(e){r.setState({initialOpen:!0},r.props.closeAllModals)},r.state={activeRowIndex:void 0,activeColIndex:void 0,initialOpen:!0},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.detectGridStructureResult.map((function(t,a){var r=t.map((function(t,r){return r==e.state.activeColIndex&&a==e.state.activeRowIndex?n.a.createElement("td",{ref:function(t){return e.activeElemRef=t},key:"".concat(a,"_").concat(r),className:"active bg-warning",onClick:function(t){return e.activateCell(a,r)},onDoubleClick:function(t){return e.selectGridCell(a,r)}},t):n.a.createElement("td",{key:"".concat(a,"_").concat(r),onClick:function(t){return e.activateCell(a,r)},onDoubleClick:function(t){return e.selectGridCell(a,r)}},t)}));return n.a.createElement("tr",{key:a},r)}));return n.a.createElement(mt.a,{animation:!1,className:"select-grid-cell-modal",onShow:this.activateInitialCell,show:this.props.selectGridCellModalOpened,onHide:this.closeModal,dialogClassName:"modal-75w"},n.a.createElement(mt.a.Header,{closeButton:!0},n.a.createElement(mt.a.Title,null,"Grid Cell Selector")),n.a.createElement(mt.a.Body,null,n.a.createElement("h3",{className:"mB-10"},"Select the cell to use from the virtual grid below. This virtual cell will be extracted every time."),n.a.createElement("div",{className:"modal-scrollable-body",ref:function(t){return e.scrollableBodyRef=t}},n.a.createElement("table",{className:"table td-hover grid-cell-selector"},n.a.createElement("tbody",null,t)))),n.a.createElement(mt.a.Footer,null,n.a.createElement(Et.a,{disabled:void 0==this.state.activeRowIndex||void 0==this.state.activeColIndex,variant:"primary lg",onClick:function(t){return e.selectGridCell(e.state.activeRowIndex,e.state.activeColIndex)}},"Use Selected Cell"),n.a.createElement(Et.a,{variant:"secondary",onClick:this.props.closeAllModals},"Cancel")))}}]),a}(n.a.Component));var Dt=Object(E.b)((function(e){return{selectGridCellModalOpened:e.modals.selectGridCellModalOpened,detectGridStructureObjectId:e.pdfViewer.detectGridStructureObjectId,detectGridStructureResult:e.pdfViewer.detectGridStructureResult,objects:e.template.objects}}),(function(e){return Object(C.b)({closeAllModals:H,changeGridCellFieldColumn:he,changeGridCellFieldRow:Se},e)}))(Rt),vt=a(446),yt=a(443),_t=a(100),Nt=a.n(_t),jt=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.objects,t=e.filter((function(e){return"field"==e.objectType})),a=e.filter((function(e){return"table"==e.objectType})).map((function(e){var t=Object.keys(e.rows[0]).map((function(e){return{dataField:e,text:e,sort:!0}})),a=e.rows.map((function(e){for(var t={},a=0,r=Object.entries(e);a<r.length;a++){var n=Object(It.a)(r[a],2),i=n[0],o=n[1];t[i]=o.value}return t.key=Date.now(),t}));return n.a.createElement("div",{className:"run-template-result-grid-table"},n.a.createElement("h3",{className:"mB-10"},e.name),n.a.createElement(Nt.a,{keyField:"key",data:a,columns:t}))})),r=A()("run-template-result-grid-fields",{hidden:0==t.length});return n.a.createElement("div",{className:"run-template-result-grid"},n.a.createElement("div",{className:r},n.a.createElement("h3",{className:"mB-10"},"Fields"),n.a.createElement(Nt.a,{keyField:"name",data:t,columns:[{dataField:"name",text:"Field",sort:!0},{dataField:"value",text:"Value",sort:!0}]})),a)}}]),a}(n.a.Component);function Pt(){return{type:b.OPEN_RUN_TEMPLATE_RESULT_WINDOW}}function Lt(){return{type:b.OPEN_RUN_OBJECT_RESULT_WINDOW}}function Mt(){return{type:b.CLOSE_ALL_WINDOWS}}a(313);var wt=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.runTemplateResult.documentText&&this.props.runTemplateResult.documentText.replace(/(\r\n|\n|\r)/gm,"<br>"),t=JSON.stringify(this.props.runTemplateResult.parsingLog,null,2),a=this.props.runTemplateResult.jsonResult&&JSON.parse(this.props.runTemplateResult.jsonResult.replace(/(\r\n|\n|\r)/gm,"")),r=(this.props.runTemplateResult.yamlResult&&this.props.runTemplateResult.yamlResult.replace(/(\r\n|\n|\r)/gm,"<br>"),this.props.runTemplateResult.csvResult&&this.props.runTemplateResult.csvResult.replace(/(\r\n|\n|\r)/gm,"<br>"));return console.log("this.props.runTemplateResult.xmlResult",this.props.runTemplateResult.xmlResult),n.a.createElement("div",{id:"run-template-result-window",className:"collapsible-window bg-warning"},n.a.createElement("div",{className:"collapsible-window-header"},"Output Results Extracted Using Your Template",n.a.createElement("button",{onClick:this.props.closeAllWindows,className:"close text-danger"},"[Close Results]")),n.a.createElement("div",{className:"collapsible-window-body"},n.a.createElement(vt.a,{defaultActiveKey:"parsing-result",id:"run-template-result"},n.a.createElement(yt.a,{eventKey:"parsing-result",title:"Parser Results"},n.a.createElement(vt.a,{defaultActiveKey:"result-grid",id:"run-template-formats"},n.a.createElement(yt.a,{eventKey:"result-grid",title:"Grids"},n.a.createElement("div",{className:"container-fluid text-left"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12 text-left"},n.a.createElement("div",{className:"code mT-20"},a&&n.a.createElement(jt,{objects:a.objects})))))),n.a.createElement(yt.a,{eventKey:"result-json",title:"JSON"},n.a.createElement("div",{className:"container-fluid text-left"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20"},n.a.createElement("textarea",{className:"form-control",name:"",id:"",rows:"30",value:JSON.stringify(a,null,2),disabled:!0})))))),n.a.createElement(yt.a,{eventKey:"result-xml",title:"XML"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20"},n.a.createElement("textarea",{className:"form-control",name:"",id:"",rows:"30",value:this.props.runTemplateResult.xmlResult,disabled:!0})))))),n.a.createElement(yt.a,{eventKey:"result-yaml",title:"YAML"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20"},n.a.createElement("textarea",{className:"form-control",name:"",id:"",rows:"30",value:this.props.runTemplateResult.yamlResult,disabled:!0})))))),n.a.createElement(yt.a,{eventKey:"result-csv",title:"CSV"},n.a.createElement("div",{className:"container-fluid text-left form-control"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20",dangerouslySetInnerHTML:{__html:r}}))))))),n.a.createElement(yt.a,{eventKey:"extracted-document-text",title:"Extracted as Plain Text"},n.a.createElement("div",{className:"container-fluid text-left form-control"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20",dangerouslySetInnerHTML:{__html:e}}))))),n.a.createElement(yt.a,{eventKey:"template-code",title:"Template Code"},n.a.createElement("div",{className:"container-fluid text-left"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20"},n.a.createElement("textarea",{className:"form-control",name:"",id:"",rows:"30",value:JSON.stringify(this.props.template,null,2),disabled:!0})))))),n.a.createElement(yt.a,{eventKey:"parsing-log",title:"Parsing Log"},n.a.createElement("div",{className:"container-fluid text-left form-control"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20",dangerouslySetInnerHTML:{__html:t}}))))))))}}]),a}(n.a.Component);var Gt=Object(E.b)((function(e){return{runTemplateResult:e.pdfViewer.runTemplateResult,template:e.template}}),(function(e){return Object(C.b)({closeAllWindows:Mt},e)}))(wt),Ft=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.objects,t=e.filter((function(e){return"field"==e.objectType})),a=e.filter((function(e){return"table"==e.objectType})).map((function(e){var t=Object.keys(e.rows[0]).map((function(e){return{dataField:e,text:e,sort:!0}})),a=e.rows.map((function(e){for(var t={},a=0,r=Object.entries(e);a<r.length;a++){var n=Object(It.a)(r[a],2),i=n[0],o=n[1];t[i]=o.value}return t.key=Date.now(),t}));return n.a.createElement("div",{className:"run-template-result-grid-table"},n.a.createElement("h3",{className:"mB-10"},e.name),n.a.createElement(Nt.a,{keyField:"key",data:a,columns:t}))})),r=A()("run-template-result-grid-fields",{hidden:0==t.length});return n.a.createElement("div",{className:"run-template-result-grid"},n.a.createElement("div",{className:r},t&&t[0]&&t[0].value),a)}}]),a}(n.a.Component),Ut=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){this.props.runTemplateResult.documentText&&this.props.runTemplateResult.documentText.replace(/(\r\n|\n|\r)/gm,"<br>");var e=this.props.runTemplateResult.jsonResult&&JSON.parse(this.props.runTemplateResult.jsonResult.replace(/(\r\n|\n|\r)/gm,""));this.props.runTemplateResult.yamlResult&&this.props.runTemplateResult.yamlResult.replace(/(\r\n|\n|\r)/gm,"<br>"),this.props.runTemplateResult.csvResult&&this.props.runTemplateResult.csvResult.replace(/(\r\n|\n|\r)/gm,"<br>");return n.a.createElement("div",{id:"run-object-result-window",className:"collapsible-window bg-warning"},n.a.createElement("div",{className:"collapsible-window-header"},"Testing ",n.a.createElement("strong",null,'"',e&&e.objects[0]&&e.objects[0].name,'"'),n.a.createElement("button",{onClick:this.props.closeAllWindows,className:"close text-danger"},"[close]")),n.a.createElement("div",{className:"collapsible-window-body"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"code mT-20"},e&&n.a.createElement(Ft,{objects:e.objects})))))))}}]),a}(n.a.Component);var Yt=Object(E.b)((function(e){return{runTemplateResult:e.pdfViewer.runTemplateResult,template:e.template}}),(function(e){return Object(C.b)({closeAllWindows:Mt},e)}))(Ut),Wt=a(230),xt=(a(315),a(316),a(156)),Bt=a(11),kt=a(10),Ht=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"inline-block"},"Position: ",n.a.createElement("span",{className:"inline-block cursor-position-data"},this.props.cursorLeftPdf,", ",this.props.cursorTopPdf))}}]),a}(n.a.Component),Vt=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).prevPage=function(){e.props.currentPage<=1||e.setPage(e.props.currentPage-1)},e.nextPage=function(){e.props.currentPage+1>e.props.totalPages||e.setPage(e.props.currentPage+1)},e.setPage=function(t){e.props.changePage(t)},e.zoomOut=function(){e.props.scale<=10||e.setZoom(e.props.scale-10)},e.zoomIn=function(){e.setZoom(e.props.scale+10)},e.setZoom=function(t){e.props.setZoom(t)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"pdf-toolbar"},n.a.createElement("div",{className:"d-inline-flex align-items-center mr-4"},n.a.createElement("button",{className:"btn btn-link p-0 mr-2",onClick:this.prevPage},n.a.createElement(Bt.a,{icon:kt.a})),n.a.createElement("input",{className:"form-control page-number",type:"number",value:this.props.currentPage,onChange:function(t){return e.setPage(t.target.value)},onBlur:this.props.resetPage})," / ",this.props.totalPages,n.a.createElement("button",{className:"btn btn-link p-0 ml-2",onClick:this.nextPage},n.a.createElement(Bt.a,{icon:kt.b}))),n.a.createElement("div",{className:"d-inline-flex align-items-center mr-4"},n.a.createElement("button",{className:"btn btn-link p-0 mr-2",onClick:this.zoomOut},n.a.createElement(Bt.a,{icon:kt.k})),n.a.createElement("input",{className:"form-control zoom-value",type:"number",value:this.props.scale,onChange:function(t){return e.setZoom(t.target.value)},onBlur:this.props.resetZoom}),n.a.createElement("button",{className:"btn btn-link p-0 ml-2 mr-1",onClick:this.zoomIn},n.a.createElement(Bt.a,{icon:kt.l})),n.a.createElement("span",null,"%")),n.a.createElement(Ht,{cursorLeftPdf:this.props.cursorLeftPdf,cursorTopPdf:this.props.cursorTopPdf}))}}]),a}(n.a.Component),Jt=(a(378),function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleMouseDown=function(e){e.target.classList.contains("single-resizer")||e.target.closest(".single-resizer")||r.setState({isMouseDown:!0,mouseDownPositionX:r.props.position.x,mouseDownPositionY:r.props.position.y})},r.handleMouseUp=function(e){if(r.state.isMouseDown){var t=r.getFrameCoordinates(),a=t.topLeftCornerX,n=t.topLeftCornerY,i=t.bottomRightCornerX,o=t.bottomRightCornerY;if(i-a>1&&o-n>1){var l=z(r.props.objects,{topLeftCornerX:r.props.convertXToPdfUnits(a+r.props.pageRef.parentElement.scrollLeft-r.props.canvasMarginLeft),topLeftCornerY:r.props.convertYToPdfUnits(n+r.props.pageRef.parentElement.scrollTop-44-6),width:r.props.convertXToPdfUnits(i-a),height:r.props.convertYToPdfUnits(o-n),page:r.props.page-1});r.props.addTemplateObject(l),r.props.setActiveObject(l.id)}r.resetMouseData()}},r.resetMouseData=function(){r.setState({isMouseDown:!1,mouseDownPositionX:void 0,mouseDownPositionY:void 0})},r.handleKeyPress=function(e){127==e.charCode&&window.confirm("Are you sure?")&&r.props.deleteObject(r.props.activeObjectId)},r.drawFrame=function(){if(r.state.isMouseDown){var e=r.getFrameCoordinates(),t=e.topLeftCornerX,a=e.topLeftCornerY,i=e.bottomRightCornerX,o=e.bottomRightCornerY;return n.a.createElement("div",{className:"rectangle",style:{left:t+r.props.pageRef.parentElement.scrollLeft+"px",top:a+r.props.pageRef.parentElement.scrollTop-44-6+"px",width:i-t+"px",height:o-a+"px"}})}},r.getFrameCoordinates=function(){return{topLeftCornerX:Math.min(r.props.position.x,r.state.mouseDownPositionX),topLeftCornerY:Math.min(r.props.position.y,r.state.mouseDownPositionY),bottomRightCornerX:Math.max(r.props.position.x,r.state.mouseDownPositionX),bottomRightCornerY:Math.max(r.props.position.y,r.state.mouseDownPositionY)}},r.state={isMouseDown:!1,mouseDownPositionX:void 0,mouseDownPositionY:void 0},r}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"editor",style:{width:this.props.width+"px",height:this.props.height+"px"},onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.resetMouseData,onKeyPress:this.handleKeyPress,tabIndex:"0"},this.drawFrame(),function(e,t){var a=[];return e&&e.length&&e.forEach((function(e){var r=e.fieldProperties&&"rectangle"==e.fieldProperties.fieldType&&e.fieldProperties.pageIndex==t-1,i="table"==e.objectType&&!e.tableType&&e.tableProperties.start.pageIndex==t-1&&(e.tableProperties.right||e.tableProperties.end.y);(r||i)&&a.push(n.a.createElement(Z,{key:e.id,templateObject:e}))})),a}(this.props.objects,this.props.page))}}]),a}(n.a.Component));var Zt=Object(E.b)((function(e){return{page:e.pdfViewer.page,scale:e.pdfViewer.scale,objects:e.template.objects,canvasMarginLeft:e.pdfViewer.canvasMarginLeft,activeObjectId:e.pdfViewer.activeObjectId}}),(function(e){return Object(C.b)({addTemplateObject:re,setActiveObject:et,deleteObject:De},e)}))(Jt),zt=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).changePage=function(e){r.setState({page:e}),r.setCurrentEditorPage(e)},r.handleDocumentLoadSuccess=function(e){r.setState({totalPages:e.numPages})},r.handlePageLoadSuccess=function(e){r.props.setCanvasCurrentPageOriginalDimensions(e.originalHeight,e.originalWidth,e._pageInfo.rotate),r.saveCanvasSizes()},r.setCurrentEditorPage=function(e){return e>0&&e<=r.state.totalPages?r.props.setPdfPage(+e):r.props.setPdfPage(1)},r.setCurrentEditorScale=function(e){return e>0?r.props.setPdfScale(e/100):r.props.setPdfScale(1)},r.resetPage=function(){r.props.currentEditorPage!=+r.state.page&&r.changePage(1)},r.resetZoom=function(){r.props.currentEditorScale!=r.state.scale/100&&r.changeZoom(100)},r.changeZoom=function(e){r.setState({scale:e},(function(){r.setCurrentEditorScale(e)}))},r.cursorPositionInPixels=function(e){var t=e.target.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},r.saveCanvasSizes=function(){if(r.pageRef&&r.props.reactCursorPositionRef){var e=r.pageRef.querySelector("canvas");r.props.setCanvasMarginLeft(r.pageRef.offsetWidth>e.offsetWidth?(r.pageRef.offsetWidth-e.offsetWidth)/2:0),r.props.setCanvasDimensions(e.offsetHeight,e.offsetWidth),r.props.reactCursorPositionRef.reset()}},r.getCursorPositionLeftInPdfUnits=function(){if(!r.props.position||!r.pageRef)return 0;var e=Math.abs(r.props.position.x-r.props.canvasMarginLeft+r.pageRef.parentElement.scrollLeft);return r.convertXToPdfUnits(e)},r.getCursorPositionTopInPdfUnits=function(){if(!r.props.position||!r.pageRef)return 0;var e=Math.abs(r.props.position.y-50+r.pageRef.parentElement.scrollTop);return r.convertYToPdfUnits(e)},r.convertYToPdfUnits=function(e){var t=-1;return t=270==r.props.currentPageOriginalRotationAngle||90==r.props.currentPageOriginalRotationAngle?r.props.canvasWidth:r.props.canvasHeight,Math.round(e*r.props.currentPageOriginalHeight/t)},r.convertXToPdfUnits=function(e){var t=-1;return t=270==r.props.currentPageOriginalRotationAngle||90==r.props.currentPageOriginalRotationAngle?r.props.canvasHeight:r.props.canvasWidth,Math.round(e*r.props.currentPageOriginalWidth/t)},r.state={page:1,totalPages:0,scale:100},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=window.innerHeight,a=this.props.currentEditorPage,r=this.props.currentEditorScale,i=this.getCursorPositionTopInPdfUnits(),o=this.getCursorPositionLeftInPdfUnits(),l=this.props.pdfFile,s=this.props.pdfUrl,c=this.pageRef?this.pageRef.offsetWidth+this.pageRef.parentElement.scrollLeft:0,p=this.pageRef?this.pageRef.offsetHeight:0;return n.a.createElement("div",null,n.a.createElement(Wt.a,{handleWidth:!0,handleHeight:!0,onResize:this.saveCanvasSizes}),n.a.createElement(Vt,{currentPage:this.state.page,changePage:this.changePage,totalPages:this.state.totalPages,resetPage:this.resetPage,scale:this.state.scale,setZoom:this.changeZoom,resetZoom:this.resetZoom,cursorTopPdf:i,cursorLeftPdf:o}),this.props.convertingToPdf&&n.a.createElement("div",{className:"loader"},"Loading..."),n.a.createElement(xt.Document,{file:l||s,noData:"",onLoadSuccess:this.handleDocumentLoadSuccess},n.a.createElement(Zt,{width:c,height:p,position:this.props.position,pageRef:this.pageRef,convertYToPdfUnits:this.convertYToPdfUnits,convertXToPdfUnits:this.convertXToPdfUnits}),n.a.createElement(xt.Page,{pageNumber:a,scale:r,renderTextLayer:!1,renderAnnotationLayer:!1,height:t,onLoadSuccess:this.handlePageLoadSuccess,inputRef:function(t){return e.pageRef=t},onRenderSuccess:this.saveCanvasSizes})))}}]),a}(n.a.Component),Kt=a(96),Xt=a(228),Qt=(a(386),function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).handleDelete=function(t){window.confirm("Are you sure?")&&e.props.deleteObject(t)},e.drawObjects=function(){var t={rectangle:n.a.createElement(Bt.a,{className:"mR-10",icon:kt.m}),table:n.a.createElement(Bt.a,{className:"mR-10",icon:kt.n}),"static-field":n.a.createElement("span",{className:"object-list-icon mR-10"},"s"),"text-search-field":n.a.createElement("span",{className:"object-list-icon mR-10"},"="),"search-based-table":n.a.createElement(Bt.a,{className:"mR-10",icon:kt.n}),"grid-cell-field":n.a.createElement("span",{className:"object-list-icon mR-10"}," ")};return e.props.objects?e.props.objects.map((function(a){var r=A()("object-list-item",{active:e.props.activeObjectId&&a.id&&e.props.activeObjectId==a.id}),i=a.fieldProperties&&"rectangle"==a.fieldProperties.fieldType,o="table"==a.objectType&&!a.tableType,l="field"==a.objectType&&"static"==a.fieldProperties.fieldType,s="field"==a.objectType&&"macros"==a.fieldProperties.fieldType,c="table"==a.objectType&&"searchBased"==a.tableType,p="field"==a.objectType&&"structure"==a.fieldProperties.fieldType;return i?n.a.createElement("div",{key:a.id,className:r,onClick:function(){return e.props.setActiveObject(a.id)}},t.rectangle,a.name,n.a.createElement("button",{"data-toggle":"tooltip","data-placement":"bottom",title:"Delete object",className:"delete-object",onClick:function(t){return e.handleDelete(a.id)}},n.a.createElement(Bt.a,{className:"mR-10",icon:kt.o})),n.a.createElement("span",{className:"pull-right"},"(page: ",a.fieldProperties.pageIndex+1,")")):o?n.a.createElement("div",{key:a.id,className:r,onClick:function(){return e.props.setActiveObject(a.id)}},t.table,a.name,n.a.createElement("button",{"data-toggle":"tooltip","data-placement":"bottom",title:"Delete object",className:"delete-object",onClick:function(t){return e.handleDelete(a.id)}},n.a.createElement(Bt.a,{className:"mR-10",icon:kt.o})),n.a.createElement("span",{className:"pull-right"},"(page: ",isNaN(a.tableProperties.start.pageIndex)?"ALL":a.tableProperties.start.pageIndex+1,")")):l?n.a.createElement("div",{key:a.id,className:r,onClick:function(){return e.props.setActiveObject(a.id)}},t["static-field"],a.name,n.a.createElement("button",{"data-toggle":"tooltip","data-placement":"bottom",title:"Delete object",className:"delete-object",onClick:function(t){return e.handleDelete(a.id)}},n.a.createElement(Bt.a,{className:"mR-10",icon:kt.o}))):s?n.a.createElement("div",{key:a.id,className:r,onClick:function(){return e.props.setActiveObject(a.id)}},t["text-search-field"],a.name,n.a.createElement("button",{"data-toggle":"tooltip","data-placement":"bottom",title:"Delete object",className:"delete-object",onClick:function(t){return e.handleDelete(a.id)}},n.a.createElement(Bt.a,{className:"mR-10",icon:kt.o}))):c?n.a.createElement("div",{key:a.id,className:r,onClick:function(){return e.props.setActiveObject(a.id)}},t["search-based-table"],a.name,n.a.createElement("button",{"data-toggle":"tooltip","data-placement":"bottom",title:"Delete object",className:"delete-object",onClick:function(t){return e.handleDelete(a.id)}},n.a.createElement(Bt.a,{className:"mR-10",icon:kt.o}))):p?n.a.createElement("div",{key:a.id,className:r,onClick:function(){return e.props.setActiveObject(a.id)}},t["grid-cell-field"],a.name,n.a.createElement("button",{"data-toggle":"tooltip","data-placement":"bottom",title:"Delete object",className:"delete-object",onClick:function(t){return e.handleDelete(a.id)}},n.a.createElement(Bt.a,{className:"mR-10",icon:kt.o})),n.a.createElement("span",{className:"pull-right"},"(page: ",a.fieldProperties.pageIndex+1,")")):void 0})):null},e}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"objects ta-left"},n.a.createElement("h5",null,"Objects:"),n.a.createElement("div",{className:"object-list"},this.drawObjects()))}}]),a}(n.a.Component)),qt=a(101),$t=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).selectDateFormat=function(e){r.props.changeObjectDateFormat(r.props.object.id,e.value||e)},r.selectCoalescingObject=function(e){r.props.changeObjectCoalescingObject(r.props.object.id,e.value)},r.state={selectedDateFormat:"custom"},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=(this.props.object.fieldProperties,this.props.objects.filter((function(t){return t.id!==e.props.object.id})).map((function(e){return{value:e.name,text:e.name}}))),a=[{text:"--none--",value:""}].concat(t);return n.a.createElement("div",{className:"object-options-body"},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectNameField",className:"col-sm-4 col-form-label"},"Name"),n.a.createElement("div",{className:"col-sm-8"},n.a.createElement("input",{type:"text",className:"form-control",id:"objectNameField",placeholder:"Name",value:this.props.object.name,onChange:function(t){return e.props.changeObjectName(e.props.object.id,t.target.value)}}))),this.props.children,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectDataTypeField",className:"col-sm-4 col-form-label"},"Data type"),n.a.createElement("div",{className:"col-sm-8"},n.a.createElement("select",{name:"objectDataTypeField",id:"objectDataTypeField",value:this.props.object.fieldProperties.dataType,onChange:function(t){return e.props.changeObjectDataType(e.props.object.id,t.target.value)},className:"form-control"},n.a.createElement("option",{value:"string"},"String"),n.a.createElement("option",{value:"date"},"Date"),n.a.createElement("option",{value:"integer"},"Integer"),n.a.createElement("option",{value:"decimal"},"Decimal or Currency")))),"date"==this.props.object.fieldProperties.dataType&&n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement(qt.Combobox,{dropDown:!0,className:"mB-10 dashboard-combobox",onChange:this.selectDateFormat,value:this.props.object.fieldProperties.dateFormat,valueField:"value",placeholder:"Date Format",textField:"text",data:[{value:"auto-mdy",text:"Auto-MDY"},{value:"auto-dmy",text:"Auto-DMY"},{value:"auto-ymd",text:"Auto-YMD"}]}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectDataTypeField",className:"col-sm-5 col-form-label"},"Coalescing with"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement(qt.Combobox,{dropDown:!0,className:"mB-10 custom-combobox",onChange:this.selectCoalescingObject,value:this.props.object.fieldProperties.coalesceWith,valueField:"value",placeholder:"Select target",textField:"text",data:a,messages:{emptyList:"There is no object"}}))))}}]),a}(n.a.Component),ea=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.object.fieldProperties,a=Math.round(100*t.rectangle[0])/100,r=Math.round(100*t.rectangle[1])/100,i=Math.round(100*t.rectangle[2])/100,o=Math.round(100*t.rectangle[3])/100,l=this.props.object.fieldProperties.expression||"";return n.a.createElement($t,this.props,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-3 col-form-label"},"Data"),n.a.createElement("div",{className:"col-sm-9 object-options-coordinates"},"".concat(t.fieldType,": {").concat(a,", ").concat(r,", ").concat(i,", ").concat(o,"}"))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectExpressionField",className:"col-sm-3 col-form-label"},"Expression"),n.a.createElement("div",{className:"col-sm-9"},n.a.createElement("textarea",{className:"form-control",name:"objectExpressionField",id:"objectExpressionField",cols:"30",rows:"2",value:l,onChange:function(t){return e.props.changeObjectExpression(e.props.object.id,t.target.value)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",{className:"form-check regex-form pull-left mT-10"},n.a.createElement("input",{type:"checkbox",id:"regexCheckbox",checked:this.props.object.fieldProperties.regex,onChange:function(t){return e.props.setRegexStatusToObject(e.props.object.id,!e.props.object.fieldProperties.regex)}}),n.a.createElement("label",{className:"form-check-label mL-10",htmlFor:"regexCheckbox"},"Regex")),n.a.createElement("button",{onClick:this.props.openMacrosModal,className:"btn btn-outline-secondary mT-10 pull-right"},"Insert Macro"),n.a.createElement("button",{disabled:this.props.detectingMacro||this.props.isRunningTemplate||!this.props.isCustomFile,onClick:function(t){return e.props.detectMacro(e.props.object.id)},className:"btn btn-outline-secondary mR-10 mT-10 pull-right"},this.props.detectingMacro?"Detecting...":"Autodetect Expression"))))}}]),a}(n.a.Component),ta=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).selectRowMergingRule=function(t){var a="none"==t.target.value?void 0:t.target.value;e.props.changeTableRowMergingRule(e.props.object.id,a)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;this.props.object.fieldProperties;return n.a.createElement("div",{className:"object-options-body"},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectNameField",className:"col-sm-5 col-form-label"},"Name"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",id:"objectNameField",placeholder:"Name",value:this.props.object.name,onChange:function(t){return e.props.changeObjectName(e.props.object.id,t.target.value)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"Type"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",value:"Rectangle Table",disabled:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"tableRowMergingRuleField",className:"col-sm-5 col-form-label"},"Row merging rule"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("select",{name:"tableRowMergingRuleField",id:"tableRowMergingRuleField",onChange:this.selectRowMergingRule,className:"form-control"},n.a.createElement("option",{value:"none"},"none"),n.a.createElement("option",{value:"byBorders"},"By borders"),n.a.createElement("option",{value:"hangingRows"},"Hanging rows")))))}}]),a}(n.a.Component),aa=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).selectCoalescingObject=function(e){r.props.changeObjectCoalescingObject(r.props.object.id,e.value)},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=(this.props.object.fieldProperties,this.props.objects.filter((function(t){return t.id!==e.props.object.id})).map((function(e){return{value:e.name,text:e.name}}))),a=[{text:"--none--",value:""}].concat(t);return n.a.createElement("div",{className:"object-options-body"},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectNameField",className:"col-sm-5 col-form-label"},"Name"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",id:"objectNameField",placeholder:"Name",value:this.props.object.name,onChange:function(t){return e.props.changeObjectName(e.props.object.id,t.target.value)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"Type"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",value:"Static Field",disabled:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectValueField",className:"col-sm-5 col-form-label"},"Value"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("textarea",{className:"form-control",name:"objectExpressionField",id:"objectExpressionField",cols:"30",rows:"2",value:this.props.object.fieldProperties.expression,onChange:function(t){return e.props.changeObjectExpression(e.props.object.id,t.target.value)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectDataTypeField",className:"col-sm-5 col-form-label"},"Coalescing with"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement(qt.Combobox,{dropDown:!0,className:"mB-10 custom-combobox",onChange:this.selectCoalescingObject,value:this.props.object.fieldProperties.coalesceWith,valueField:"value",placeholder:"Select target",textField:"text",data:a,messages:{emptyList:"There is no object"}}))))}}]),a}(n.a.Component),ra=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement($t,this.props,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectTypeField",className:"col-sm-5 col-form-label"},"Type"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",id:"objectTypeField",value:"Text search",disabled:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectExpressionField",className:"col-sm-3 col-form-label"},"Expression"),n.a.createElement("div",{className:"col-sm-9"},n.a.createElement("textarea",{className:"form-control",name:"objectExpressionField",id:"objectExpressionField",cols:"30",rows:"2",value:this.props.object.fieldProperties.expression,onChange:function(t){return e.props.changeObjectExpression(e.props.object.id,t.target.value)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",{className:"form-check regex-form pull-left mT-10"},n.a.createElement("input",{type:"checkbox",id:"regexCheckbox",checked:this.props.object.fieldProperties.regex,onChange:function(t){return e.props.setRegexStatusToObject(e.props.object.id,!e.props.object.fieldProperties.regex)}}),n.a.createElement("label",{className:"form-check-label mL-10",htmlFor:"regexCheckbox"},"Regex")),n.a.createElement("button",{onClick:this.props.openMacrosModal,className:"btn btn-outline-secondary mT-10 pull-right"},"Insert macro"),n.a.createElement("button",{disabled:this.props.detectingMacro||this.props.isRunningTemplate||!this.props.isCustomFile,onClick:function(t){return e.props.detectMacro(e.props.object.id)},className:"btn btn-outline-secondary mR-10 mT-10 pull-right"},this.props.detectingMacro?"Detecting...":"Autodetect Expression"))))}}]),a}(n.a.Component),na=function(e){var t=n.a.useRef(null),a=n.a.useState(0),r=Object(It.a)(a,2),i=r[0],o=r[1];n.a.useEffect((function(){if(e.object){var t="string"===typeof e.object.tableProperties?JSON.parse(e.object.tableProperties):Object(R.a)({},e.object.tableProperties);try{if(t&&t.additionalMacro)if(i){var a=t.additionalMacro;delete t.additionalMacro;var r=JSON.stringify(t,void 0,2);e.changeSearchBasedTableProperties(e.object.id,r.substring(0,i)+a+r.substring(i))}else{var n=t.additionalMacro;delete t.additionalMacro,t.end.expression=t.end.expression+n,e.changeSearchBasedTableProperties(e.object.id,JSON.stringify(t))}}catch(o){delete t.additionalMacro,e.changeSearchBasedTableProperties(e.object.id,JSON.stringify(t))}}}),[e]);return n.a.createElement("div",{className:"object-options-body"},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectNameField",className:"col-sm-5 col-form-label"},"Name"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",id:"objectNameField",placeholder:"Name",value:e.object.name,onChange:function(t){return e.changeObjectName(e.object.id,t.target.value)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-5 col-form-label"},"Type"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",value:"Search-based Table",disabled:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectValueField",className:"col-sm-5 col-form-label"},"Properties"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("textarea",{className:"form-control",name:"searchBasedTablePropertiesField",id:"searchBasedTablePropertiesField",cols:"30",rows:"4",value:"string"===typeof e.object.tableProperties?e.object.tableProperties:JSON.stringify(e.object.tableProperties,void 0,2),onChange:function(t){e.changeSearchBasedTableProperties(e.object.id,t.target.value)},ref:t,onClick:function(e){t&&t.current&&o(t.current.selectionStart)},onKeyDown:function(e){t&&t.current&&o(t.current.selectionStart+1)}}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("button",{onClick:e.openMacrosModal,className:"btn btn-outline-secondary mT-10 pull-right"},"Insert Macro"))))},ia=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.object.fieldProperties.structureCoordinates.y+1,a=this.props.object.fieldProperties.structureCoordinates.x+1;return n.a.createElement($t,this.props,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"objectTypeField",className:"col-sm-4 col-form-label"},"Type"),n.a.createElement("div",{className:"col-sm-8"},n.a.createElement("input",{type:"text",className:"form-control",id:"objectTypeField",value:"Grid Cell",disabled:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"gridCellColField",className:"col-sm-4 col-form-label"},"Cell col"),n.a.createElement("div",{className:"col-sm-6"},n.a.createElement("input",{type:"text",name:"gridCellField",id:"gridCellField",className:"form-control",disabled:!0,value:"row: "+t+", col: "+a})),n.a.createElement("button",{disabled:!this.props.isCustomFile||this.props.detectingFields,onClick:function(t){return e.props.detectGridStructure(e.props.object.id)},className:"btn condensed-button btn-outline-secondary pull-right"},this.props.detectingFields?n.a.createElement(Bt.a,{icon:kt.e}):"...")))}}]),a}(n.a.Component),oa=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).rectangleTable=function(e){var t=e.tableProperties,a="string"===typeof t?JSON.parse(t):t;return t&&a.start&&a.end&&-1!==a.start.pageIndex&&-1!==a.end.pageIndex&&a.start.pageIndex===a.end.pageIndex&&!isNaN(a.left)&&!isNaN(a.right)},e.handleRunTestObject=function(t,a){e.props.isCustomFile?e.props.runTemplateWithOneObject(t,a):window.confirm("No PDF file is loaded for testing. Do you want to load PDF file now?")&&e.props.handleUploadPdf()},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=null,a=this.props.object,r=(this.props.objects,A()("btn btn-outline-secondary pull-right mL-10",{hidden:!a}),A()("btn btn-outline-danger pull-right mL-10",{hidden:!a})),i=this.props.runTemplateResult.jsonResult&&JSON.parse(this.props.runTemplateResult.jsonResult.replace(/(\r\n|\n|\r)/gm,"")),o=a&&"field"==a.objectType&&i&&i.objects&&this.props.testFieldResultId==a.id;return a&&("field"==a.objectType&&"rectangle"==a.fieldProperties.fieldType?t=n.a.createElement(ea,this.props):"field"==a.objectType&&"static"==a.fieldProperties.fieldType?t=n.a.createElement(aa,this.props):"field"==a.objectType&&"macros"==a.fieldProperties.fieldType?t=n.a.createElement(ra,this.props):"table"!=a.objectType||this.rectangleTable(a)?"table"==a.objectType&&this.rectangleTable(a)?t=n.a.createElement(ta,this.props):"field"==a.objectType&&"structure"==a.fieldProperties.fieldType&&(t=n.a.createElement(ia,this.props)):t=n.a.createElement(na,this.props)),n.a.createElement("div",{className:"object-options ta-left"},n.a.createElement("h5",null,"Selected Object Properties:"),t,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12 mB-10"},n.a.createElement("button",{disabled:this.props.isRunningTemplate,className:r,onClick:function(t){return e.handleRunTestObject(a.id,a.objectType)}},this.props.isRunningTemplate?"Testing...":"Test Object"))),o&&n.a.createElement("textarea",{disabled:!0,rows:"10",id:"objectTestResult",className:"form-control mB-10 bg-warning",value:i.objects[0].value}))}}]),a}(n.a.Component),la=a(444),sa=[{label:"Generic invoice template",templateUrl:"https://bytescout-com.s3.us-west-2.amazonaws.com/files/demo-files/cloud-api/document-parser/generic-invoice.yml",testDocumentUrl:"https://bytescout-com.s3.us-west-2.amazonaws.com/files/demo-files/cloud-api/document-parser/sample-fixed-table/SampleInvoice.pdf"},{label:"Generic purchase order",templateUrl:"https://bytescout-com.s3.us-west-2.amazonaws.com/files/demo-files/cloud-api/document-parser/generic-purchase-order.yml",testDocumentUrl:"https://bytescout-com.s3.us-west-2.amazonaws.com/files/demo-files/cloud-api/document-parser/SamplePurchaseOrder.pdf"},{label:"Sample invoice with fixed table",templateUrl:"https://bytescout-com.s3.us-west-2.amazonaws.com/files/demo-files/cloud-api/document-parser/sample-fixed-table/SampleInvoice.yml",testDocumentUrl:"https://bytescout-com.s3.us-west-2.amazonaws.com/files/demo-files/cloud-api/document-parser/sample-fixed-table/SampleInvoice.pdf"},{label:"Simple invoice with not fixed table",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Create%20Custom%20Template/SampleTemplate.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Create%20Custom%20Template/SampleInvoice.pdf"},{label:"Life and Annuity Quote Request with Census Table",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Census%20table%20from%20life%20and%20annuity%20quote%20request%20pdf/SampleGroupDisabilityForm.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Census%20table%20from%20life%20and%20annuity%20quote%20request%20pdf/SampleGroupDisabilityForm.pdf"},{label:"Multi-page table - Approach 1",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Extract%20line%20items%20from%20tables%20on%20multiple%20pages/MultiPageTable-template1.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Extract%20line%20items%20from%20tables%20on%20multiple%20pages/MultiPageTable.pdf"},{label:"Multi-page table - Approach 2",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Extract%20line%20items%20from%20tables%20on%20multiple%20pages/MultiPageTable-template2.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Extract%20line%20items%20from%20tables%20on%20multiple%20pages/MultiPageTable.pdf"},{label:"Sample blood report",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Blood%20Test%20Results%20to%20JSON/SampleBloodReport.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Blood%20Test%20Results%20to%20JSON/SampleBloodReport.pdf"},{label:"Sample HL7 form",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20and%20Generate%20HL7%20Output/InputData/TestReportFormat.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20and%20Generate%20HL7%20Output/InputData/Test_Report_Format.pdf"},{label:"Sample airline ticket",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parsing%20and%20reading%20data%20from%20Airline%20Tickets/SampleTicket.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parsing%20and%20reading%20data%20from%20Airline%20Tickets/SampleTicket.pdf"},{label:"Amazon AWS Invoice",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20Simple%20Document/AmazonAWS.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20Simple%20Document/AmazonAWS.pdf"},{label:"Digital Ocean Invoice",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20Simple%20Document/DigitalOcean.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20Simple%20Document/DigitalOcean.pdf"},{label:"Google Invoice",templateUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20Simple%20Document/Google.yml",testDocumentUrl:"https://github.com/bytescout/ByteScout-SDK-SourceCode/raw/master/Document%20Parser%20SDK/C%23/Parse%20Simple%20Document/Google.pdf"}],ca=(n.a.Component,function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).handleUploadClick=function(t){e.uploadRef.click()},e.handleUploadTemplateClick=function(t){e.props.isTemplateModified&&!window.confirm("Are you sure you want to discard the current template?")||e.uploadTemplateRef.click()},e.handleSaveClick=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var a=$(e.props.template);null==e.props.templateId?e.props.createTemplate(a,t):e.props.updateTemplate(e.props.templateId,a,t)}catch(r){e.setState({syntaxError:!0,syntaxErrorMessage:r,copied:!1})}},e.handleSaveExitClick=function(){e.props.disableUnloadAlert(),e.handleSaveClick(!0)},e.handleDiscardChangesClick=function(){e.props.isTemplateModified&&!window.confirm("Are you sure you want to discard all changes in the current template?")||(e.props.disableUnloadAlert(),window.location.assign("https://app.pdftest.co/document-parser/templates"))},e.handleClickLoadSample=function(t){window.confirm("Are you sure you want to discard all changes in the current template?")&&e.props.handleLoadSampleTemplate(t)},e.handleClickRunTemplate=function(){e.props.isCustomFile?e.props.handleRunTemplate():window.confirm("No PDF file is loaded for testing. Do you want to load PDF file now?")&&e.uploadRef.click()},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"input-group mb-3 dashboard-menu pT-10 pB-10"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12 ta-left"},n.a.createElement(la.a,{className:"mR-10",drop:"down",menuAlign:"right"},n.a.createElement(la.a.Toggle,{variant:"success",id:"dropdown-basic",disabled:this.props.isRunningTemplate},n.a.createElement(Bt.a,{icon:kt.f}),"\xa0 Sample Templates"),n.a.createElement(la.a.Menu,null,sa.map((function(t){return n.a.createElement(la.a.Item,{onClick:function(a){return e.handleClickLoadSample(t)},key:t.label},t.label)})))),n.a.createElement("button",{disabled:this.props.isRunningTemplate,className:"btn btn-outline-secondary mR-10","data-toggle":"tooltip","data-placement":"bottom",title:"Load test PDF document that you will use to test your template",onClick:this.handleUploadClick},n.a.createElement(Bt.a,{icon:kt.d})," Load Test PDF or Image"),n.a.createElement("button",{disabled:!this.props.fileUploaded||this.props.isRunningTemplate,className:"btn btn-info mR-10","data-toggle":"tooltip","data-placement":"bottom",title:"Edit template",onClick:this.props.handleEditClick},n.a.createElement(Bt.a,{icon:kt.j})," Edit Template"),n.a.createElement("button",{disabled:!this.props.fileUploaded||this.props.isRunningTemplate,className:"btn btn-success mR-10","data-toggle":"tooltip","data-placement":"bottom",title:"Save template",onClick:this.handleSaveClick},n.a.createElement(Bt.a,{icon:kt.j})," Save Template"),n.a.createElement("button",{disabled:!this.props.fileUploaded||this.props.isRunningTemplate,className:"btn btn-success mR-10","data-toggle":"tooltip","data-placement":"bottom",title:"Save template",onClick:this.handleSaveExitClick},n.a.createElement(Bt.a,{icon:kt.j})," Save Template and Return"),n.a.createElement("button",{disabled:!this.props.fileUploaded||this.props.isRunningTemplate,className:"btn btn-danger mR-10","data-toggle":"tooltip","data-placement":"bottom",title:"Discard template changes",onClick:this.handleDiscardChangesClick},n.a.createElement(Bt.a,{icon:kt.j})," Discard and Return"),n.a.createElement("button",{disabled:this.props.isRunningTemplate,className:"btn btn-outline-success mR-10","data-toggle":"tooltip","data-placement":"bottom",title:"Run template",onClick:this.handleClickRunTemplate},this.props.isRunningTemplate?n.a.createElement(Bt.a,{icon:kt.e}):n.a.createElement(Bt.a,{icon:kt.h})," Run Template")))),n.a.createElement("div",{className:"custom-file hidden"},n.a.createElement("input",{ref:function(t){return e.uploadRef=t},type:"file",className:"form-control",accept:"application/pdf,image/jpeg,image/png,image/tiff",id:"uploadPdf",onChange:function(t){return e.props.handleFileUploaded(t.target.files)}}),n.a.createElement("label",{className:"custom-file-label ta-left",htmlFor:"uploadPdf"},this.props.fileName)))}}]),a}(n.a.Component));var pa=Object(E.b)((function(e){return{template:e.template,templateId:e.templateId}}),(function(e){return Object(C.b)({updateTemplate:Me,createTemplate:we},e)}))(ca);function da(e){return{type:b.SET_IS_TEMPLATE_MODIFIED,isTemplateModified:e}}function ga(e){return{type:b.SET_TEMPLATE_FILE_NAME,templateFileName:e}}var ua=function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleFileUploaded=function(e){if(e&&e.length){var t=r.props,a=t.convertToPdf,n=t.setPdfUrl,i=t.setPdfFile,o=t.resetPdfFileAndUrl,l=t.setIsCustomFile,s=t.setPdfFileName;r.setState({fileName:"Choose file",fileUploaded:!1}),o(),s(e[0].name),"pdf"===e[0].name.split(".").pop()?function(e,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){console.log("Error: ",e)}}(e[0],(function(t){i(t),l(!0),r.setState({fileName:e[0].name,fileUploaded:!0})})):["jpg","jpeg","bmp","tif","tiff"].includes(e[0].name.split(".").pop())&&a(e[0],(function(t){n(t),l(!0),r.setState({fileName:e[0].name,fileUploaded:!0})}))}},r.handleTemplateUploaded=function(e){var t=e.target.files,a=Object(d.a)(r),n=new FileReader,i=t[0].name.split(".").pop();function o(t){try{a.setTemplateByJson(t)}catch(e){console.log(e,"Template error"),alert("Template error")}}r.props.setTemplateFileName(t[0].name),n.onload=function(e){if("json"==i)var t=JSON.parse(e.target.result);else if("yml"==i)t=q(e.target.result);parseInt(t.templateVersion)<4?j(t).then((function(e){o(e.template)})).catch((function(e){alert("Template version is too old, error converting to newer version")})):o(t)},n.readAsText(t.item(0)),e.target.value=""},r.handleLoadSampleTemplate=function(){var e=Object(S.a)(h.a.mark((function e(t){var a,n,i,o,l,s,c,p,g,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=function(e){try{p.setTemplateByJson(e)}catch(t){console.log(t,"Template error"),alert("Template error")}},a=r.props,n=a.setPdfUrl,i=a.resetPdfFileAndUrl,o=a.setIsCustomFile,l=a.setPdfFileName,s=a.uploadFileFromUrl,c=a.uploadSampleDocumentFromUrl,p=Object(d.a)(r),g=t.templateUrl.split(".").pop(),r.props.setTemplateFileName(t.label),s(t.templateUrl,function(){var e=Object(S.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:a=e.sent,"json"==g?r=JSON.parse(a.data):"yml"==g&&(r=q(a.data)),parseInt(r.templateVersion)<4?j(r).then((function(e){u(e.template)})).catch((function(e){alert("Template version is too old, error converting to newer version")})):u(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.setState({fileUploaded:!1}),i(),l(t.label),c(t.testDocumentUrl,(function(e){n(e),o(!0),r.setState({fileUploaded:!0})})),o(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.setTemplateByJson=function(e){var t=r.props.setTemplate;e.objects=e.objects.map((function(e,t){return Object(R.a)(Object(R.a)({},e),{},{id:t})})),e.culture=e.culture||"en-US",e.options=e.options||{},e.options.ocrMode=e.options.ocrMode||"auto",e.options.ocrLanguage=e.options.ocrLanguage||"eng",t(e)},r.handleUploadClick=function(e){r.uploadRef.click()},r.runTemplate=function(e){r.props.runTemplate(r.props.openRunTemplateResultWindow)},r.runTemplateWithOneObject=function(e,t){var a=r.props,n=a.openRunObjectResultWindow,i=a.setTestFieldResultId;r.props.runTemplateWithOneObject(e,(function(){"field"==t?i(e):n(),Xt.animateScroll.scrollToBottom({containerId:"dashboard",duration:50})}))},r.resetTemplate=function(){r.props.isTemplateModified&&!window.confirm("Are you sure?")||r.props.resetTemplate()},r.addObject=function(e){if("placeholder"!=e)switch(e){case"rectangle-field":return r.props.addDefaultRectangleField(r.props.page-1,(function(e){r.props.setActiveObject(e)}));case"rectangle-table":return r.props.addDefaultRectangleTable(r.props.page-1,(function(e){r.props.setActiveObject(e)}));case"static-field":return r.props.addDefaultStaticField(r.props.page-1,(function(e){r.props.setActiveObject(e)}));case"text-search-field":return r.props.addDefaultTextSearchField((function(e){r.props.setActiveObject(e)}));case"search-based-table":return r.props.addDefaultSearchBasedTable((function(e){r.props.setActiveObject(e)}));case"grid-cell-field":return r.props.addDefaultGridCellField(r.props.page-1,(function(e){r.props.setActiveObject(e)}))}},r.handleDeleteConfirm=function(e){window.confirm("Are you sure?")&&r.props.deleteObject(r.props.activeObjectId)},r.handleUploadPdf=function(){r.embeddedMenuRef.handleUploadClick()},e.setPdfFile("data:application/pdf;base64,JVBERi0xLjYNJeLjz9MNCjI0IDAgb2JqDTw8L0ZpbHRlci9GbGF0ZURlY29kZS9GaXJzdCA0L0xlbmd0aCAyMTYvTiAxL1R5cGUvT2JqU3RtPj5zdHJlYW0NCmjePI9RS8MwFIX/yn1bi9jepCQ6GYNpFBTEMsW97CVLbjWYNpImmz/fVsXXcw/f/c4SEFarepPTe4iFok8dU09DgtDBQx6TMwT74vaLTE7uSPDUdXM0Xe/73r1FnVwYYEtHR6d9WdY3kX4ipRMV6oojSmxQMoGyac5RLBAXf63p38aGA7XPorLewyvFcYaJile8rB+D/YcwiRdMMGScszO8/IW0MdhsaKKYGA46gXKTr/cUQVY4We/cYMNpnLVeXPJUXHs9fECr7kAFk+eZ5Xr9LcAAfKpQrA0KZW5kc3RyZWFtDWVuZG9iag0yNSAwIG9iag08PC9GaWx0ZXIvRmxhdGVEZWNvZGUvRmlyc3QgNC9MZW5ndGggNDkvTiAxL1R5cGUvT2JqU3RtPj5zdHJlYW0NCmjeslAwULCx0XfOL80rUTDU985MKY42NAIKBsXqh1QWpOoHJKanFtvZAQQYAN/6C60NCmVuZHN0cmVhbQ1lbmRvYmoNMjYgMCBvYmoNPDwvRmlsdGVyL0ZsYXRlRGVjb2RlL0ZpcnN0IDkvTGVuZ3RoIDQyL04gMi9UeXBlL09ialN0bT4+c3RyZWFtDQpo3jJTMFAwVzC0ULCx0fcrzS2OBnENFIJi7eyAIsH6LnZ2AAEGAI2FCDcNCmVuZHN0cmVhbQ1lbmRvYmoNMjcgMCBvYmoNPDwvRmlsdGVyL0ZsYXRlRGVjb2RlL0ZpcnN0IDUvTGVuZ3RoIDEyMC9OIDEvVHlwZS9PYmpTdG0+PnN0cmVhbQ0KaN4yNFIwULCx0XfOzytJzSspVjAyBgoE6TsX5Rc45VdEGwB5ZoZGCuaWRrH6vqkpmYkYogGJRUCdChZgfUGpxfmlRcmpxUAzA4ryk4NTS6L1A1zc9ENSK0pi7ez0g/JLEktSFQz0QyoLUoF601Pt7AACDADYoCeWDQplbmRzdHJlYW0NZW5kb2JqDTIgMCBvYmoNPDwvTGVuZ3RoIDM1MjUvU3VidHlwZS9YTUwvVHlwZS9NZXRhZGF0YT4+c3RyZWFtDQo8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjQtYzAwNSA3OC4xNDczMjYsIDIwMTIvMDgvMjMtMTM6MDM6MDMgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnBkZj0iaHR0cDovL25zLmFkb2JlLmNvbS9wZGYvMS4zLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPHBkZjpQcm9kdWNlcj5BY3JvYmF0IERpc3RpbGxlciA2LjAgKFdpbmRvd3MpPC9wZGY6UHJvZHVjZXI+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDA2LTAzLTA2VDE1OjA2OjMzLTA1OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZVBTNS5kbGwgVmVyc2lvbiA1LjIuMjwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNi0wNy0xNVQxMDoxMjoyMSswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTYtMDctMTVUMTA6MTI6MjErMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnV1aWQ6ZmYzZGNmZDEtMjNmYS00NzZmLTgzOWEtM2U1Y2FlMmRhMmViPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD51dWlkOjM1OTM1MGIzLWFmNDAtNGQ4YS05ZDZjLTAzMTg2YjRmZmIzNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPGRjOmZvcm1hdD5hcHBsaWNhdGlvbi9wZGY8L2RjOmZvcm1hdD4KICAgICAgICAgPGRjOnRpdGxlPgogICAgICAgICAgICA8cmRmOkFsdD4KICAgICAgICAgICAgICAgPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5CbGFuayBQREYgRG9jdW1lbnQ8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6QWx0PgogICAgICAgICA8L2RjOnRpdGxlPgogICAgICAgICA8ZGM6Y3JlYXRvcj4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGk+RGVwYXJ0bWVudCBvZiBKdXN0aWNlIChFeGVjdXRpdmUgT2ZmaWNlIG9mIEltbWlncmF0aW9uIFJldmlldyk8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L2RjOmNyZWF0b3I+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4NCmVuZHN0cmVhbQ1lbmRvYmoNMTEgMCBvYmoNPDwvTWV0YWRhdGEgMiAwIFIvUGFnZUxhYmVscyA2IDAgUi9QYWdlcyA4IDAgUi9UeXBlL0NhdGFsb2c+Pg1lbmRvYmoNMjMgMCBvYmoNPDwvRmlsdGVyL0ZsYXRlRGVjb2RlL0xlbmd0aCAxMD4+c3RyZWFtDQpIiQIIMAAAAAABDQplbmRzdHJlYW0NZW5kb2JqDTI4IDAgb2JqDTw8L0RlY29kZVBhcm1zPDwvQ29sdW1ucyA0L1ByZWRpY3RvciAxMj4+L0ZpbHRlci9GbGF0ZURlY29kZS9JRFs8REI3Nzc1Q0NFMjI3RjZCMzBDNDQwREY0MjIxREMzOTA+PEJGQ0NDRjNGNTdGNjEzNEFCRDNDMDRBOUU0Q0ExMDZFPl0vSW5mbyA5IDAgUi9MZW5ndGggODAvUm9vdCAxMSAwIFIvU2l6ZSAyOS9UeXBlL1hSZWYvV1sxIDIgMV0+PnN0cmVhbQ0KaN5iYgACJjDByGzIwPT/73koF0wwMUiBWYxA4v9/EMHA9I/hBVCxoDOQeH8DxH2KrIMIglFwIpD1vh5IMJqBxPpArHYgwd/KABBgAP8bEC0NCmVuZHN0cmVhbQ1lbmRvYmoNc3RhcnR4cmVmDQo0NTc2DQolJUVPRg0K"),r.state={fileName:"Choose file",fileUploaded:!0},r}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this,a=null,r=this.props.objects&&this.props.objects.length?this.props.objects.find((function(e){return e.id==t.props.activeObjectId})):void 0,i=A()("form-group row",{hidden:!this.state.fileUploaded});return a=n.a.createElement(pa,{handleFileUploaded:this.handleFileUploaded,template:this.props.template,templateName:this.props.templateName,fileUploaded:this.state.fileUploaded,handleTemplateUploaded:this.handleTemplateUploaded,handleLoadSampleTemplate:this.handleLoadSampleTemplate,handleEditClick:this.props.openEditTemplateModal,resetTemplate:this.resetTemplate,handleRunTemplate:this.runTemplate,isRunningTemplate:this.props.isRunningTemplate,isCustomFile:this.props.isCustomFile,setIsTemplateModified:this.props.setIsTemplateModified,isTemplateModified:this.props.isTemplateModified,disableUnloadAlert:this.props.disableUnloadAlert,ref:function(e){return t.embeddedMenuRef=e}}),n.a.createElement("div",{className:"container dashboard",id:"dashboard"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12"},a,n.a.createElement("div",{className:"form-group row mT-30 ta-left"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{disabled:this.props.isRunningTemplate||!this.props.isCustomFile||this.props.detectingFields},n.a.createElement(la.a,null,n.a.createElement(la.a.Toggle,{variant:"success",id:"dropdown-basic"},n.a.createElement(Bt.a,{icon:kt.i})," Add Object"),n.a.createElement(la.a.Menu,null,n.a.createElement(la.a.Item,{onClick:function(e){return t.addObject("rectangle-field")}},"FIELD from Rectangle"),n.a.createElement(la.a.Item,{onClick:function(e){return t.addObject("rectangle-table")}},"TABLE from Rectangle"),n.a.createElement(la.a.Item,{onClick:function(e){return t.addObject("static-field")}},"STATIC value "),n.a.createElement(la.a.Item,{onClick:function(e){return t.addObject("grid-cell-field")}},"CELL from virtual grid"),n.a.createElement(la.a.Item,{onClick:function(e){return t.addObject("text-search-field")}},"FIELD based on search"),n.a.createElement(la.a.Item,{onClick:function(e){return t.addObject("search-based-table")}},"TABLE based on search"))),n.a.createElement("button",{disabled:this.props.isRunningTemplate||this.props.detectingFields,className:"btn btn-outline-primary mL-10","data-toggle":"tooltip","data-placement":"bottom",title:"Detect Objects..",onClick:this.props.detectFields},n.a.createElement(Bt.a,{icon:kt.g})," ",this.props.detectingFields?"Detecting...":"Detect Objects..")))),this.state.fileUploaded&&n.a.createElement("hr",null),n.a.createElement("div",{className:i},n.a.createElement("label",{htmlFor:"templateNameField",className:"col-sm-5 col-form-label"},"Template Name"),n.a.createElement("div",{className:"col-sm-7"},n.a.createElement("input",{type:"text",className:"form-control",id:"templateNameField",placeholder:"Template Name",value:this.props.templateName,onChange:function(e){return t.props.changeTemplateName(e.target.value)}})),n.a.createElement("div",{className:"col-sm-4"}),n.a.createElement("div",{className:"col-sm-8"},n.a.createElement("button",(e={disabled:!this.state.fileUploaded,onClick:this.props.openTemplateSettingsModal,className:"btn btn-outline-primary pull-right mT-10","data-toggle":"tooltip","data-placement":"bottom",title:"Template options"},Object(Kt.a)(e,"data-toggle","modal"),Object(Kt.a)(e,"data-target","#templateSettingsModal"),e),"Template options..."))),n.a.createElement(Qt,{activeObjectId:this.props.activeObjectId,setActiveObject:this.props.setActiveObject,objects:this.props.objects,tabindex:"0",deleteObject:this.props.deleteObject}),n.a.createElement(oa,{object:r,objects:this.props.objects,changeObjectName:this.props.changeObjectName,changeObjectDataType:this.props.changeObjectDataType,changeObjectExpression:this.props.changeObjectExpression,changeObjectDateFormat:this.props.changeObjectDateFormat,changeObjectCoalescingObject:this.props.changeObjectCoalescingObject,changeTableRowMergingRule:this.props.changeTableRowMergingRule,changeSearchBasedTableProperties:this.props.changeSearchBasedTableProperties,changeGridCellFieldColumn:this.props.changeGridCellFieldColumn,changeGridCellFieldRow:this.props.changeGridCellFieldRow,openMacrosModal:this.props.openMacrosModal,setRegexStatusToObject:this.props.setRegexStatusToObject,handleRunTemplate:this.runTemplate,isRunningTemplate:this.props.isRunningTemplate,runTemplateWithOneObject:this.runTemplateWithOneObject,isCustomFile:this.props.isCustomFile,detectMacro:this.props.detectMacro,detectingMacro:this.props.detectingMacro,detectingFields:this.props.detectingFields,detectGridStructure:this.props.detectGridStructure,runTemplateResult:this.props.runTemplateResult,testFieldResultId:this.props.testFieldResultId,handleUploadPdf:this.handleUploadPdf}))))}}]),a}(n.a.Component);var ma=Object(E.b)((function(e){return{objects:e.template.objects,activeObjectId:e.pdfViewer.activeObjectId,templateName:e.template.templateName,page:e.pdfViewer.page,template:e.template,isRunningTemplate:e.pdfViewer.isRunningTemplate,runTemplateResult:e.pdfViewer.runTemplateResult,isCustomFile:e.pdfViewer.isCustomFile,detectingMacro:e.pdfViewer.detectingMacro,detectingFields:e.pdfViewer.detectingFields,testFieldResultId:e.dashboard.testFieldResultId,isTemplateModified:e.editor.isTemplateModified}}),(function(e){return Object(C.b)({setPdfFile:Ge,setActiveObject:et,changeObjectName:de,changeTemplateName:Ce,changeObjectDataType:fe,changeObjectExpression:Ae,changeObjectDateFormat:be,changeObjectCoalescingObject:Te,addDefaultRectangleField:ie,addDefaultRectangleTable:ne,addDefaultStaticField:oe,changeTableRowMergingRule:Ie,addDefaultTextSearchField:le,addDefaultSearchBasedTable:se,addDefaultGridCellField:ce,changeSearchBasedTableProperties:Oe,changeGridCellFieldColumn:he,changeGridCellFieldRow:Se,setTemplate:Re,deleteObject:De,openTemplateSettingsModal:x,convertToPdf:Be,setPdfUrl:Fe,resetPdfFileAndUrl:nt,openEditTemplateModal:B,openMacrosModal:k,setRegexStatusToObject:Pe,resetTemplate:ae,runTemplate:lt,runTemplateWithOneObject:st,openRunObjectResultWindow:Lt,setIsCustomFile:ot,detectMacro:ke,detectFields:Ve,detectGridStructure:Ze,openRunTemplateResultWindow:Pt,setTestFieldResultId:xe,setIsTemplateModified:da,setPdfFileName:pt,uploadFileFromUrl:Qe,uploadSampleDocumentFromUrl:dt,setTemplateFileName:ga},e)}))(ua),Ea=(a(434),a(435),a(436),function(e){Object(g.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).disableUnloadAlert=function(){r.state.unloadAlert=!1},r.componentDidMount=function(){var e=Object(d.a)(r);window.addEventListener("beforeunload",(function(t){e.props.isTemplateModified&&e.state.unloadAlert&&(t.preventDefault(),t.returnValue="")})),Object(s.e)(r.props.location.pathname,"/document-parser/templates/:id/editor")&&r.props.getTemplate(r.props.match.params.id)},r.state={unloadAlert:!0},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.runTemplateWindowOpened||this.props.runObjectWindowOpened,a=A()("col-lg-9 pdf-viewer-wrapper",{divided:t});return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"title-bar"},this.props.templateFileName," ",this.props.templateFileName&&this.props.pdfFileName&&"-"," ",this.props.pdfFileName),n.a.createElement("span",{className:"version"},"v. ","1.0.025032021"," ",n.a.createElement("a",{href:"https://app.pdf.co"},"return to pdf.co document parser")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-3 dashboard-wrapper"},n.a.createElement(ma,{disableUnloadAlert:this.disableUnloadAlert})),n.a.createElement("div",{className:a},n.a.createElement("div",{className:"pdf-viewer"},n.a.createElement(m.a,{ref:function(t){return e.reactCursorPositionRef=t}},n.a.createElement(zt,{pdfFile:this.props.pdfFile,pdfUrl:this.props.pdfUrl,convertingToPdf:this.props.convertingToPdf,setPdfPage:this.props.setPdfPage,setPdfScale:this.props.setPdfScale,currentEditorPage:this.props.page,currentEditorScale:this.props.scale,setCanvasMarginLeft:this.props.setCanvasMarginLeft,setCanvasDimensions:this.props.setCanvasDimensions,setCanvasCurrentPageOriginalDimensions:this.props.setCanvasCurrentPageOriginalDimensions,canvasMarginLeft:this.props.canvasMarginLeft,canvasWidth:this.props.canvasWidth,canvasHeight:this.props.canvasHeight,currentPageOriginalHeight:this.props.currentPageOriginalHeight,currentPageOriginalWidth:this.props.currentPageOriginalWidth,currentPageOriginalRotationAngle:this.props.currentPageOriginalRotationAngle,reactCursorPositionRef:this.reactCursorPositionRef}))),this.props.runTemplateWindowOpened&&n.a.createElement(Gt,null),this.props.runObjectWindowOpened&&n.a.createElement(Yt,null))),n.a.createElement(ft,null),n.a.createElement(Tt,null),n.a.createElement(ht,null),n.a.createElement(Dt,null),n.a.createElement(ut,null))}}]),a}(n.a.Component));var Ca=Object(E.b)((function(e){return{pdfFile:e.pdfViewer.file,pdfUrl:e.pdfViewer.url,page:e.pdfViewer.page,scale:e.pdfViewer.scale,convertingToPdf:e.pdfViewer.convertingToPdf,canvasMarginLeft:e.pdfViewer.canvasMarginLeft,canvasWidth:e.pdfViewer.canvasWidth,canvasHeight:e.pdfViewer.canvasHeight,currentPageOriginalHeight:e.pdfViewer.currentPageOriginalHeight,currentPageOriginalWidth:e.pdfViewer.currentPageOriginalWidth,currentPageOriginalRotationAngle:e.pdfViewer.currentPageOriginalRotationAngle,runTemplateWindowOpened:e.windows.runTemplateWindowOpened,runObjectWindowOpened:e.windows.runObjectWindowOpened,isTemplateModified:e.editor.isTemplateModified,pdfFileName:e.pdfViewer.pdfFileName,templateFileName:e.editor.templateFileName}}),(function(e){return Object(C.b)({setPdfPage:qe,setPdfScale:$e,setCanvasMarginLeft:tt,setCanvasDimensions:at,setCanvasCurrentPageOriginalDimensions:rt,getTemplate:Le},e)}))(Ea),fa=function(){return n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/document-parser/templates/:id/editor",component:Ca}),n.a.createElement(s.a,{path:"/document-parser/templates/new",component:Ca}),n.a.createElement(s.a,{exact:!0,path:"/editor/",component:Ca}),n.a.createElement(s.a,{exact:!0,path:"/",component:Ca}))},Aa=a(29),ba=Object(Aa.a)({basename:"/editor-staging"}),Ta=a(229),Ia=a.n(Ta),Oa=function(){return n.a.createElement(Ia.a,null,n.a.createElement(l.a,{history:ba},n.a.createElement(fa,null)))},ha=a(233),Sa={page:1,scale:1,activeObjectId:void 0,file:void 0,url:void 0,canvasMarginLeft:0,canvasHeight:0,canvasWidth:0,currentPageOriginalHeight:1,currentPageOriginalWidth:1,currentPageOriginalRotationAngle:0,convertingToPdf:!1,isRunningTemplate:!1,runTemplateResult:{},isCustomFile:!1,detectingMacro:!1,detectingFields:!1,detectGridStructureResult:[],pdfFileName:void 0},Ra=a(232),Da={templateVersion:4,templatePriority:0,culture:"en-US",objects:[],templateName:"",timestamp:void 0,options:{ocrMode:"auto",ocrLanguage:"eng"}},va={templateSettingsModalOpened:!1,editTemplateModalOpened:!1,macrosModalOpened:!1,runTemplateResultModalOpened:!1,runTemplateWithOneObjectResultModalOpened:!1,selectGridCellModalOpened:!1},ya={detectingMacroObjectId:void 0,testFieldResultId:void 0,detectedMacros:[],fileUploadingFromUrl:!1},_a={runTemplateWindowOpened:!1,runObjectWindowOpened:!1},Na={isTemplateModified:!1,templateFileName:void 0},ja=a(102),Pa=Object(ha.a)({reducer:{pdfViewer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.SET_PDF_FILE_NAME:return Object(R.a)(Object(R.a)({},e),{},{pdfFileName:t.pdfFileName});case b.RESET_PDF_FILE_AND_URL:return Object(R.a)(Object(R.a)({},e),{},{file:void 0,url:void 0});case b.SET_IS_CUSTOM_FILE:return Object(R.a)(Object(R.a)({},e),{},{isCustomFile:t.isCustomFile});case b.REQUEST_CONVERT_TO_PDF:return Object(R.a)(Object(R.a)({},e),{},{convertingToPdf:!0});case b.RECEIVE_CONVERT_TO_PDF:return Object(R.a)(Object(R.a)({},e),{},{convertingToPdf:!1});case b.REQUEST_DETECT_MACRO:return Object(R.a)(Object(R.a)({},e),{},{detectingMacro:!0});case b.RECEIVE_DETECT_MACRO:return Object(R.a)(Object(R.a)({},e),{},{detectingMacro:!1});case b.REQUEST_DETECT_GRID_STRUCTURE:case b.REQUEST_DETECT_FIELDS:return Object(R.a)(Object(R.a)({},e),{},{detectingFields:!0,detectGridStructureObjectId:t.detectGridStructureObjectId});case b.RECEIVE_DETECT_GRID_STRUCTURE:return Object(R.a)(Object(R.a)({},e),{},{detectingFields:!1,detectGridStructureResult:t.detectGridStructureResult});case b.RECEIVE_DETECT_FIELDS:return Object(R.a)(Object(R.a)({},e),{},{detectingFields:!1});case b.SET_PDF_FILE:return Object(R.a)(Object(R.a)({},e),{},{file:t.file,url:void 0});case b.SET_PDF_URL:return Object(R.a)(Object(R.a)({},e),{},{url:t.url,file:void 0});case b.SET_PDF_PAGE:return Object(R.a)(Object(R.a)({},e),{},{page:t.page});case b.SET_PDF_SCALE:return Object(R.a)(Object(R.a)({},e),{},{scale:t.scale});case b.SET_ACTIVE_OBJECT:return Object(R.a)(Object(R.a)({},e),{},{activeObjectId:t.activeObjectId});case b.SET_CANVAS_MARGIN_LEFT:return Object(R.a)(Object(R.a)({},e),{},{canvasMarginLeft:t.canvasMarginLeft});case b.SET_CANVAS_DIMENSIONS:return Object(R.a)(Object(R.a)({},e),{},{canvasHeight:t.canvasHeight,canvasWidth:t.canvasWidth});case b.SET_CANVAS_CURRENT_PAGE_ORIGINAL_DIMENSIONS:return Object(R.a)(Object(R.a)({},e),{},{currentPageOriginalHeight:t.currentPageOriginalHeight,currentPageOriginalWidth:t.currentPageOriginalWidth,currentPageOriginalRotationAngle:t.currentPageOriginalRotationAngle});case b.REQUEST_RUN_TEMPLATE:return Object(R.a)(Object(R.a)({},e),{},{isRunningTemplate:!0});case b.RECEIVE_RUN_TEMPLATE:return Object(R.a)(Object(R.a)({},e),{},{isRunningTemplate:!1,runTemplateResult:t.runTemplateResult});default:return e}},template:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.SAVE_TEMPLATES:case b.SET_TEMPLATE:return t.template;case b.RESET_TEMPLATE:return Da;case b.ADD_TEMPLATE_OBJECT:return Object(R.a)(Object(R.a)({},e),{},{objects:[].concat(Object(Ra.a)(e.objects),[t.object])});case b.DELETE_TEMPLATE_OBJECT:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.filter((function(e){return e.id!=t.id}))});case b.CHANGE_TEMPLATE_PRIORITY:return Object(R.a)(Object(R.a)({},e),{},{templatePriority:t.templatePriority});case b.CHANGE_TEMPLATE_CULTURE:return Object(R.a)(Object(R.a)({},e),{},{culture:t.culture});case b.CHANGE_TEMPLATE_OCR_MODE:return Object(R.a)(Object(R.a)({},e),{},{options:Object(R.a)(Object(R.a)({},e.options),{},{ocrMode:t.ocrMode})});case b.CHANGE_TEMPLATE_OCR_LANGUAGE:return Object(R.a)(Object(R.a)({},e),{},{options:Object(R.a)(Object(R.a)({},e.options),{},{ocrLanguage:t.ocrLanguage})});case b.CHANGE_TEMPLATE_NAME:return Object(R.a)(Object(R.a)({},e),{},{templateName:t.templateName});case b.CHANGE_TEMPLATE_TIMESTAMP:return Object(R.a)(Object(R.a)({},e),{},{templateName:t.timestamp});case b.CHANGE_OBJECT_NAME:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(a,r){if(a.id!=t.id)return a;var n=function(){var r=e.objects.find((function(e){return e.name===t.name})),n=t.name;if(r)for(var i=!0,o=1;i;){n=t.name+"(".concat(o,")"),e.objects.find((function(e){return e.name===n}))?o++:i=!1}return{v:Object(R.a)(Object(R.a)({},a),{},{name:n})}}();return"object"===typeof n?n.v:void 0}))});case b.CHANGE_RECTANGLE_FIELD_COORDINATES:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{rectangle:[t.x,t.y,e.fieldProperties.rectangle[2],e.fieldProperties.rectangle[3]]})}):e}))});case b.CHANGE_RECTANGLE_FIELD_SIZES:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{rectangle:[e.fieldProperties.rectangle[0],e.fieldProperties.rectangle[1],t.width,t.height]})}):e}))});case b.CHANGE_RECTANGLE_TABLE_COORDINATES:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{tableProperties:Object(R.a)(Object(R.a)({},e.tableProperties),{},{right:e.tableProperties.right+(t.x-e.tableProperties.left),left:t.x,start:Object(R.a)(Object(R.a)({},e.tableProperties.start),{},{y:t.y}),end:Object(R.a)(Object(R.a)({},e.tableProperties.end),{},{y:e.tableProperties.end.y+(t.y-e.tableProperties.start.y)})})}):e}))});case b.CHANGE_RECTANGLE_TABLE_SIZES:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{tableProperties:Object(R.a)(Object(R.a)({},e.tableProperties),{},{right:e.tableProperties.left+t.width,end:Object(R.a)(Object(R.a)({},e.tableProperties.end),{},{y:e.tableProperties.start.y+t.height})})}):e}))});case b.CHANGE_TABLE_ROW_MERGING_RULE:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{tableProperties:Object(R.a)(Object(R.a)({},e.tableProperties),{},{rowMergingRule:t.rowMergingRule})}):e}))});case b.CHANGE_OBJECT_DATA_TYPE:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{dataType:t.dataType,dateFormat:"date"==t.dataType?"":void 0})}):e}))});case b.CHANGE_OBJECT_EXPRESSION:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{expression:t.expression})}):e}))});case b.CHANGE_OBJECT_DATE_FORMAT:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{dateFormat:t.dateFormat})}):e}))});case b.CHANGE_OBJECT_COALESCING_WITH:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){if(e.id==t.id){var r=e.fieldProperties||{};return t.targetObjectId?r=Object(R.a)(Object(R.a)({},r),{},{coalesceWith:t.targetObjectId}):delete r.coalesceWith,Object(R.a)(Object(R.a)({},e),{},{fieldProperties:r})}return e}))});case b.CHANGE_SEARCH_BASED_TABLE_PROPERTIES:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{tableProperties:t.tableProperties}):e}))});case b.CHANGE_GRID_CELL_FIELD_COLUMN:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{structureCoordinates:Object(R.a)(Object(R.a)({},e.fieldProperties.structureCoordinates),{},{x:t.x})})}):e}))});case b.CHANGE_GRID_CELL_FIELD_ROW:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{structureCoordinates:Object(R.a)(Object(R.a)({},e.fieldProperties.structureCoordinates),{},{y:t.y})})}):e}))});case b.INSERT_MACROS_INTO_OBJECT:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?"table"===e.objectType&&"searchBased"===e.tableType?Object(R.a)(Object(R.a)({},e),{},{tableProperties:Object(R.a)(Object(R.a)({},JSON.parse(e.tableProperties)),{},{additionalMacro:t.macros})}):Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{expression:(e.fieldProperties.expression||"")+t.macros})}):e}))});case b.SET_REGEX_STATUS_TO_OBJECT:return Object(R.a)(Object(R.a)({},e),{},{objects:e.objects.map((function(e,a){return e.id==t.id?Object(R.a)(Object(R.a)({},e),{},{fieldProperties:Object(R.a)(Object(R.a)({},e.fieldProperties),{},{regex:t.regex})}):e}))});default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.OPEN_TEMPLATE_SETTINGS_MODAL:return Object(R.a)(Object(R.a)({},e),{},{templateSettingsModalOpened:!0});case b.OPEN_EDIT_TEMPLATE_MODAL:return Object(R.a)(Object(R.a)({},e),{},{editTemplateModalOpened:!0});case b.OPEN_MACROS_MODAL:return Object(R.a)(Object(R.a)({},e),{},{macrosModalOpened:!0});case b.OPEN_RUN_TEMPLATE_RESULT_MODAL:return Object(R.a)(Object(R.a)({},e),{},{runTemplateResultModalOpened:!0});case b.OPEN_RUN_TEMPLATE_WITH_ONE_OBJECT_RESULT_MODAL:return Object(R.a)(Object(R.a)({},e),{},{runTemplateWithOneObjectResultModalOpened:!0});case b.OPEN_SELECT_GRID_CELL_MODAL:return Object(R.a)(Object(R.a)({},e),{},{selectGridCellModalOpened:!0});case b.CLOSE_ALL_MODALS:return va;default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.REQUEST_DETECT_MACRO:return Object(R.a)(Object(R.a)({},e),{},{detectingMacroObjectId:t.detectingMacroObjectId});case b.RECEIVE_DETECT_MACRO:return Object(R.a)(Object(R.a)({},e),{},{detectedMacros:t.detectedMacros});case b.SET_TEST_FIELD_RESULT_ID:return Object(R.a)(Object(R.a)({},e),{},{testFieldResultId:t.testFieldResultId});case b.CHANGE_RECTANGLE_FIELD_COORDINATES:case b.CHANGE_RECTANGLE_FIELD_SIZES:case b.CHANGE_RECTANGLE_TABLE_COORDINATES:case b.CHANGE_RECTANGLE_TABLE_SIZES:case b.CHANGE_OBJECT_DATA_TYPE:return Object(R.a)(Object(R.a)({},e),{},{detectingMacroObjectId:ya.detectingMacroObjectId,testFieldResultId:ya.testFieldResultId,detectedMacros:ya.detectedMacros});case b.REQUEST_UPLOAD_FILE_FROM_URL:return Object(R.a)(Object(R.a)({},e),{},{fileUploadingFromUrl:!0});case b.RECEIVE_UPLOAD_FILE_FROM_URL:return Object(R.a)(Object(R.a)({},e),{},{fileUploadingFromUrl:!1});default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.RECEIVE_DETECT_MACRO:case b.RECEIVE_DETECT_FIELDS:case b.RECEIVE_DETECT_GRID_STRUCTURE:case b.DELETE_TEMPLATE_OBJECT:case b.ADD_TEMPLATE_OBJECT:case b.CHANGE_OBJECT_NAME:case b.CHANGE_RECTANGLE_FIELD_COORDINATES:case b.CHANGE_RECTANGLE_FIELD_SIZES:case b.CHANGE_RECTANGLE_TABLE_COORDINATES:case b.CHANGE_RECTANGLE_TABLE_SIZES:case b.CHANGE_OBJECT_DATA_TYPE:case b.CHANGE_OBJECT_EXPRESSION:case b.CHANGE_OBJECT_DATE_FORMAT:case b.CHANGE_TABLE_ROW_MERGING_RULE:case b.CHANGE_SEARCH_BASED_TABLE_PROPERTIES:case b.CHANGE_GRID_CELL_FIELD_COLUMN:case b.CHANGE_GRID_CELL_FIELD_ROW:case b.INSERT_MACROS_INTO_OBJECT:case b.SET_REGEX_STATUS_TO_OBJECT:case b.CHANGE_TEMPLATE_NAME:case b.CHANGE_TEMPLATE_TIMESTAMP:case b.CHANGE_TEMPLATE_PRIORITY:case b.CHANGE_TEMPLATE_CULTURE:case b.CHANGE_TEMPLATE_OCR_MODE:case b.CHANGE_TEMPLATE_OCR_LANGUAGE:case b.SET_REGEX_STATUS_TO_OBJECT:case b.SET_REGEX_STATUS_TO_OBJECT:case b.SET_REGEX_STATUS_TO_OBJECT:case b.SET_REGEX_STATUS_TO_OBJECT:case b.SET_REGEX_STATUS_TO_OBJECT:case b.SET_REGEX_STATUS_TO_OBJECT:return Object(R.a)(Object(R.a)({},e),{},{isTemplateModified:!0});case b.SET_TEMPLATE:case b.RESET_TEMPLATE:return Object(R.a)(Object(R.a)({},e),{},{isTemplateModified:!1});case b.SET_IS_TEMPLATE_MODIFIED:return Object(R.a)(Object(R.a)({},e),{},{isTemplateModified:t.isTemplateModified});case b.SET_TEMPLATE_FILE_NAME:return Object(R.a)(Object(R.a)({},e),{},{templateFileName:t.templateFileName});default:return e}},windows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.OPEN_RUN_TEMPLATE_RESULT_WINDOW:return Object(R.a)(Object(R.a)({},e),{},{runTemplateWindowOpened:!0,runObjectWindowOpened:!1});case b.OPEN_RUN_OBJECT_RESULT_WINDOW:return Object(R.a)(Object(R.a)({},e),{},{runObjectWindowOpened:!0,runTemplateWindowOpened:!1});case b.CLOSE_ALL_WINDOWS:return _a;default:return e}},templateId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.SET_TEMPLATE_ID:return t.templateId;default:return e}}},middleware:[ja.a]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E.a,{store:Pa},n.a.createElement(Oa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[236,1,2]]]);
//# sourceMappingURL=main.8875b104.chunk.js.map